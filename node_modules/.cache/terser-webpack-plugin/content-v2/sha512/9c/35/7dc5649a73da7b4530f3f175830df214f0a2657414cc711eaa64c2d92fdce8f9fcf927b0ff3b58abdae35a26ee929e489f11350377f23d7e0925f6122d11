{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-eda224c6\"],{\"1f97\":function(t,e,i){\"use strict\";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"generate_picture\"},[i(\"headers\"),i(\"el-row\",{staticClass:\"inner\"},[i(\"el-main\",[i(\"el-page-header\",{attrs:{content:\"生成图片\"},on:{back:function(e){return t.$router.go(-1)}}}),i(\"el-row\",[i(\"div\",{staticClass:\"generate_imgBox\"},[i(\"div\",{staticClass:\"generate_imgInner\"},[i(\"div\",{attrs:{id:\"dragContainer\"}},[i(\"img\",{attrs:{src:t.imgUrl}}),i(\"VueDragResize\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showQrCode,expression:\"showQrCode\"}],attrs:{aspectRatio:!0,parentLimitation:!0,w:142,h:142,minw:100,minh:100,x:458,y:100},on:{resizing:t.resize}},[i(\"div\",{ref:\"qrCodeDiv\",staticClass:\"qrcode\",staticStyle:{width:\"102px\",height:\"102px\"},style:{background:t.qrCodeBgColor},attrs:{id:\"qrCode\"}})]),i(\"VueDragResize\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showContactImg,expression:\"showContactImg\"}],attrs:{aspectRatio:!0,parentLimitation:!0,w:142,h:142,minw:100,minh:100,x:150,y:100}},[i(\"img\",{staticClass:\"contact_img\",attrs:{src:t.contactImg}})]),i(\"VueDragResize\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showWord1,expression:\"showWord1\"}],attrs:{aspectRatio:!1,isResizable:!0,parentLimitation:!1,w:100,h:50,minh:50,x:50,y:50},on:{resizing:t.resizePone}},[i(\"pre\",{style:{color:t.wordColor1,background:t.bgColor1,fontSize:t.fontsize1+\"px\"}},[t._v(t._s(t.word1))])]),i(\"VueDragResize\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showWord2,expression:\"showWord2\"}],attrs:{aspectRatio:!1,isResizable:!0,parentLimitation:!1,w:100,h:50,minh:50,x:50,y:100},on:{resizing:t.resizePtwo}},[i(\"pre\",{style:{color:t.wordColor2,background:t.bgColor2,fontSize:t.fontsize2+\"px\"}},[t._v(t._s(t.word2))])]),i(\"VueDragResize\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showWord3,expression:\"showWord3\"}],attrs:{aspectRatio:!1,isResizable:!0,parentLimitation:!1,w:100,h:50,minh:50,x:50,y:100},on:{resizing:t.resizePthree}},[i(\"pre\",{style:{color:t.wordColor3,background:t.bgColor3,fontSize:t.fontsize3+\"px\"}},[t._v(t._s(t.word3))])])],1)]),i(\"p\",[t._v(\"使用鼠标拖拽可改变二维码大小或位置\")])]),i(\"div\",{staticClass:\"generate_from\"},[i(\"div\",{staticClass:\"generate_from_box\"},[i(\"el-row\",{staticClass:\"generate_from_tab\"},[i(\"ul\",t._l(t.tabs,(function(e,o){return i(\"li\",{class:{bor_active:t.tabNum==o},on:{click:function(e){t.tabNum=o}}},[t._v(t._s(e))])})),0)]),i(\"el-row\",{directives:[{name:\"show\",rawName:\"v-show\",value:0==t.tabNum,expression:\"tabNum == 0\"}],staticClass:\"generate_from_bot\"},[i(\"p\",[t._v(\"二维码颜色\")]),i(\"el-color-picker\",{on:{\"active-change\":t.qrCodeColorActive},model:{value:t.qrCodeColor,callback:function(e){t.qrCodeColor=e},expression:\"qrCodeColor\"}}),i(\"p\",[t._v(\"二维码背景\")]),i(\"el-color-picker\",{on:{\"active-change\":t.qrCodeBgColorActive},model:{value:t.qrCodeBgColor,callback:function(e){t.qrCodeBgColor=e},expression:\"qrCodeBgColor\"}}),i(\"p\",[t._v(\"二维码颜色\")]),i(\"el-input\",{attrs:{type:\"textarea\",rows:2,placeholder:\"请输入内容\"},on:{input:t.qrCodeLinkInput},model:{value:t.qrCodeLink,callback:function(e){t.qrCodeLink=e},expression:\"qrCodeLink\"}}),i(\"el-checkbox\",{model:{value:t.showQrCode,callback:function(e){t.showQrCode=e},expression:\"showQrCode\"}},[t._v(\"二维码预览\")])],1),i(\"el-row\",{directives:[{name:\"show\",rawName:\"v-show\",value:1==t.tabNum,expression:\"tabNum == 1\"}],staticClass:\"generate_from_bot\"},[i(\"p\",[t._v(\"联系方式\")]),i(\"el-upload\",{staticClass:\"upload-demo\",attrs:{action:t.upUrl,data:t.qn,\"on-change\":t.handleChange,\"on-success\":t.handleSuccess,onError:t.handleError,\"on-remove\":t.handleRemove,\"before-upload\":t.beforeAvatarUpload}},[i(\"el-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showUploadBtn,expression:\"showUploadBtn\"}],staticClass:\"btn_bor_primary\",attrs:{size:\"small\",round:\"\",plain:\"\"}},[t._v(\"上传图片\")])],1)],1),i(\"el-row\",{directives:[{name:\"show\",rawName:\"v-show\",value:2==t.tabNum,expression:\"tabNum == 2\"}],staticClass:\"generate_from_bot generate_from_three\"},[i(\"p\",[t._v(\"文字1\")]),i(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.word1,expression:\"word1\"}],style:{color:t.wordColor1,background:t.bgColor1},attrs:{placeholder:\"请输入内容\",cols:\"30\",rows:\"10\"},domProps:{value:t.word1},on:{input:function(e){e.target.composing||(t.word1=e.target.value)}}}),i(\"p\",[t._v(\"颜色\")]),i(\"el-color-picker\",{on:{\"active-change\":t.wordColorActive1},model:{value:t.wordColor1,callback:function(e){t.wordColor1=e},expression:\"wordColor1\"}}),i(\"p\",[t._v(\"背景\")]),i(\"el-color-picker\",{on:{\"active-change\":t.bgColorActive1},model:{value:t.bgColor1,callback:function(e){t.bgColor1=e},expression:\"bgColor1\"}}),i(\"el-checkbox\",{staticClass:\"fix\",staticStyle:{\"margin-bottom\":\"24px\"},model:{value:t.showWord1,callback:function(e){t.showWord1=e},expression:\"showWord1\"}},[t._v(\"文字预览\")]),i(\"el-row\",{staticClass:\"divider-dashed\"}),i(\"p\",[t._v(\"文字2\")]),i(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.word2,expression:\"word2\"}],style:{color:t.wordColor2,background:t.bgColor2},attrs:{placeholder:\"请输入内容\",cols:\"30\",rows:\"10\"},domProps:{value:t.word2},on:{input:function(e){e.target.composing||(t.word2=e.target.value)}}}),i(\"p\",[t._v(\"颜色\")]),i(\"el-color-picker\",{on:{\"active-change\":t.wordColorActive2},model:{value:t.wordColor2,callback:function(e){t.wordColor2=e},expression:\"wordColor2\"}}),i(\"p\",[t._v(\"背景\")]),i(\"el-color-picker\",{on:{\"active-change\":t.bgColorActive2},model:{value:t.bgColor2,callback:function(e){t.bgColor2=e},expression:\"bgColor2\"}}),i(\"el-checkbox\",{staticClass:\"fix\",staticStyle:{\"margin-bottom\":\"24px\"},model:{value:t.showWord2,callback:function(e){t.showWord2=e},expression:\"showWord2\"}},[t._v(\"文字预览\")]),i(\"el-row\",{staticClass:\"divider-dashed\"}),i(\"p\",[t._v(\"文字3\")]),i(\"textarea\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.word3,expression:\"word3\"}],style:{color:t.wordColor3,background:t.bgColor3},attrs:{placeholder:\"请输入内容\",cols:\"30\",rows:\"10\"},domProps:{value:t.word3},on:{input:function(e){e.target.composing||(t.word3=e.target.value)}}}),i(\"p\",[t._v(\"颜色\")]),i(\"el-color-picker\",{on:{\"active-change\":t.wordColorActive3},model:{value:t.wordColor3,callback:function(e){t.wordColor3=e},expression:\"wordColor3\"}}),i(\"p\",[t._v(\"背景\")]),i(\"el-color-picker\",{on:{\"active-change\":t.bgColorActive3},model:{value:t.bgColor3,callback:function(e){t.bgColor3=e},expression:\"bgColor3\"}}),i(\"el-checkbox\",{staticClass:\"fix\",staticStyle:{\"margin-bottom\":\"24px\"},model:{value:t.showWord3,callback:function(e){t.showWord3=e},expression:\"showWord3\"}},[t._v(\"文字预览\")])],1)],1),i(\"div\",{staticClass:\"generate_from_btn\"},[i(\"el-button\",{staticClass:\"btn_bor_primary\",attrs:{round:\"\",plain:\"\"},on:{click:t.saveLocalClick}},[t._v(\"保存本地\")]),i(\"el-popover\",{attrs:{placement:\"top\",width:\"200\",trigger:\"click\"}},[i(\"div\",{staticClass:\"popover-content\",staticStyle:{height:\"170px\"}},[i(\"div\",{ref:\"imgQrCodeDiv\",staticClass:\"qrcode\",staticStyle:{width:\"170px\",height:\"170px\",margin:\"0 auto\"},attrs:{id:\"qrCode\"}})]),i(\"el-button\",{staticClass:\"btn_bor_primary\",attrs:{slot:\"reference\",round:\"\",plain:\"\"},on:{click:t.mobileViewClick},slot:\"reference\"},[t._v(\"手机查看\")])],1),i(\"el-button\",{staticClass:\"btn_bor_primary\",attrs:{round:\"\",plain:\"\"},on:{click:t.previewClick}},[t._v(\"预览\")])],1)])])],1)],1),i(\"footers\")],1)},n=[],r=(i(\"d3b7\"),i(\"3ca3\"),i(\"ddb0\"),i(\"2b3d\"),i(\"71c2\")),s=i(\"076e\"),a=i(\"d044\"),c=i.n(a),h=i(\"3b58\"),l=i.n(h),u=i(\"c0e9\"),d=i.n(u);var m=i(\"f96b\"),p={data:function(){return{imgUrl:localStorage.getItem(\"selectedBgImg\"),tabs:[\"二维码\",\"联系方式\",\"文字信息\"],tabNum:0,qrCodeColor:\"#000\",qrCodeBgColor:\"#fff\",qrCodeLink:\"\",showQrCode:!1,canvasWidth:92,canvasHeight:92,showUploadBtn:!0,qn:{token:\"\"},upUrl:\"\",showContactImg:!1,contactImg:\"\",word1:\"\",wordColor1:\"red\",bgColor1:\"\",showWord1:!1,fontsize1:16,word2:\"\",wordColor2:\"red\",bgColor2:\"\",showWord2:!1,fontsize2:16,word3:\"\",wordColor3:\"red\",bgColor3:\"\",showWord3:!1,fontsize3:16}},methods:{UpImgData:function(){var t=this;Object(m[\"t\"])().then((function(e){t.upUrl=e.data.message.upUrl,t.qn.token=e.data.message.Token})).catch((function(t){}))},bindQRCode:function(){new c.a(this.$refs.qrCodeDiv,{text:this.qrCodeLink,width:92,height:92,colorDark:this.qrCodeColor,colorLight:\"#ff000000\",correctLevel:c.a.CorrectLevel.L})},resize:function(t){document.getElementsByClassName(\"qrcode\")[0].style.width=t.width-40+\"px\",document.getElementsByClassName(\"qrcode\")[0].style.height=t.height-40+\"px\",document.getElementsByTagName(\"canvas\")[0].style.width=t.width-50+\"px\",document.getElementsByTagName(\"canvas\")[0].style.height=t.height-50+\"px\",this.canvasWidth=t.width-50,this.canvasHeight=t.height-50},resizePone:function(t){if(t.width<100)this.fontsize1=16;else{var e=(t.width-100)/5;this.fontsize1=16+e}},resizePtwo:function(t){if(t.width<100)this.fontsize2=16;else{var e=(t.width-100)/5;this.fontsize2=16+e}},resizePthree:function(t){if(t.width<100)this.fontsize3=16;else{var e=(t.width-100)/5;this.fontsize3=16+e}},qrCodeLinkInput:function(){this.$refs.qrCodeDiv.innerHTML=\"\",new c.a(this.$refs.qrCodeDiv,{text:this.qrCodeLink,width:this.canvasWidth,height:this.canvasHeight,colorDark:this.qrCodeColor,colorLight:\"#ff000000\",correctLevel:c.a.CorrectLevel.L})},qrCodeColorActive:function(t){this.$refs.qrCodeDiv.innerHTML=\"\",new c.a(this.$refs.qrCodeDiv,{text:this.qrCodeLink,width:this.canvasWidth,height:this.canvasHeight,colorDark:t,colorLight:\"#ff000000\",correctLevel:c.a.CorrectLevel.L})},qrCodeBgColorActive:function(t){this.qrCodeBgColor=t},handleChange:function(t,e){this.showUploadBtn=!1},handleSuccess:function(t,e){this.showContactImg=!0,this.contactImg=t.file_path},handleError:function(){console.log(\"error\"),this.showUploadBtn=!0},handleRemove:function(){this.showUploadBtn=!0,this.contactImg=\"\"},beforeAvatarUpload:function(t){var e=\"image/jpeg\"===t.type,i=\"image/png\"===t.type,o=t.size/1024/1024<200;return e||i||this.$message.error(\"上传头像图片只能是 JPG 和 PNG 格式!\"),o||this.$message.error(\"上传图片大小不能超过 200KB!\"),e||i&&o},wordColorActive1:function(t){this.wordColor1=t},bgColorActive1:function(t){this.bgColor1=t},wordColorActive2:function(t){this.wordColor2=t},bgColorActive2:function(t){this.bgColor2=t},wordColorActive3:function(t){this.wordColor3=t},bgColorActive3:function(t){this.bgColor3=t},saveLocalClick:function(){var t=document.getElementById(\"dragContainer\"),e={useCORS:!0,height:t.offsetHeight,width:t.offsetWidth,scrollX:-8,dpi:300,scale:1};d()(t,e).then((function(t){var e=t.toDataURL(\"image/png\"),i=document.createElement(\"a\");i.href=e,i.download=\"推广素材\",document.body.appendChild(i),i.click(),document.body.removeChild(i)}))},mobileViewClick:function(){var t=this;this.$refs.imgQrCodeDiv.innerHTML=\"\";var e=document.getElementById(\"dragContainer\"),i={useCORS:!0,height:e.offsetHeight,width:e.offsetWidth,scrollX:-8,dpi:300,scale:1};d()(e,i).then((function(e){e.toBlob((function(e){var i=new FormData;i.append(\"token\",t.qn.token),i.append(\"file\",e),t.$http.post(t.upUrl,i).then((function(e){new c.a(t.$refs.imgQrCodeDiv,{text:e.data.file_path,width:170,height:170,colorDark:\"#000\",colorLight:\"#fff\",correctLevel:c.a.CorrectLevel.L})})).catch((function(t){}))}))}))},previewClick:function(){var t=document.getElementById(\"dragContainer\"),e={useCORS:!0,height:t.offsetHeight,width:t.offsetWidth,scrollX:-8,dpi:300,scale:1};d()(t,e).then((function(t){t.toBlob((function(t){console.log(t),window.open(URL.createObjectURL(t))}))}))}},created:function(){this.UpImgData()},mounted:function(){this.$nextTick((function(){this.bindQRCode()})),this.qrCodeLink=localStorage.getItem(\"agentLink\")},components:{headers:r[\"a\"],footers:s[\"a\"],VueDragResize:l.a}},f=p,g=(i(\"c33b\"),i(\"2877\")),v=Object(g[\"a\"])(f,o,n,!1,null,\"081f2b36\",null);e[\"default\"]=v.exports},\"3b58\":function(t,e,i){!function(e,i){t.exports=i()}(window,(function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=44)}({0:function(t,e,i){var o=i(16);\"string\"==typeof o&&(o=[[t.i,o,\"\"]]);var n={transform:void 0};i(5)(o,n),o.locals&&(t.exports=o.locals)},1:function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o={y:{t:\"top\",m:\"marginTop\",b:\"bottom\"},x:{l:\"left\",m:\"marginLeft\",r:\"right\"}};e.default={name:\"vue-drag-resize\",props:{stickSize:{type:Number,default:8},parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},isActive:{type:Boolean,default:!1},preventActiveBehavior:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},aspectRatio:{type:Boolean,default:!1},parentLimitation:{type:Boolean,default:!1},snapToGrid:{type:Boolean,default:!1},gridX:{type:Number,default:50,validator:function(t){return t>0}},gridY:{type:Number,default:50,validator:function(t){return t>0}},parentW:{type:Number,default:0,validator:function(t){return t>=0}},parentH:{type:Number,default:0,validator:function(t){return t>=0}},w:{type:Number,default:100,validator:function(t){return t>0}},h:{type:Number,default:100,validator:function(t){return t>0}},minw:{type:Number,default:50,validator:function(t){return t>0}},minh:{type:Number,default:50,validator:function(t){return t>0}},x:{type:Number,default:0,validator:function(t){return\"number\"==typeof t}},y:{type:Number,default:0,validator:function(t){return\"number\"==typeof t}},z:{type:[String,Number],default:\"auto\",validator:function(t){return\"string\"==typeof t?\"auto\"===t:t>=0}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},sticks:{type:Array,default:function(){return[\"tl\",\"tm\",\"tr\",\"mr\",\"br\",\"bm\",\"bl\",\"ml\"]}},axis:{type:String,default:\"both\",validator:function(t){return-1!==[\"x\",\"y\",\"both\",\"none\"].indexOf(t)}},contentClass:{type:String,required:!1,default:\"\"}},data:function(){return{active:this.isActive,rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,zIndex:this.z,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,left:this.x,top:this.y,right:null,bottom:null,minWidth:this.minw,minHeight:this.minh}},created:function(){this.stickDrag=!1,this.bodyDrag=!1,this.stickAxis=null,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.currentStick=[]},mounted:function(){if(this.parentElement=this.$el.parentNode,this.parentWidth=this.parentW?this.parentW:this.parentElement.clientWidth,this.parentHeight=this.parentH?this.parentH:this.parentElement.clientHeight,this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,document.documentElement.addEventListener(\"mousemove\",this.move),document.documentElement.addEventListener(\"mouseup\",this.up),document.documentElement.addEventListener(\"mouseleave\",this.up),document.documentElement.addEventListener(\"mousedown\",this.deselect),document.documentElement.addEventListener(\"touchmove\",this.move,!0),document.documentElement.addEventListener(\"touchend\",this.up,!0),document.documentElement.addEventListener(\"touchcancel\",this.up,!0),document.documentElement.addEventListener(\"touchstart\",this.up,!0),this.dragHandle){var t=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle));for(var e in t)t[e].setAttribute(\"data-drag-handle\",this._uid)}if(this.dragCancel){var i=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel));for(var o in i)i[o].setAttribute(\"data-drag-cancel\",this._uid)}},beforeDestroy:function(){document.documentElement.removeEventListener(\"mousemove\",this.move),document.documentElement.removeEventListener(\"mouseup\",this.up),document.documentElement.removeEventListener(\"mouseleave\",this.up),document.documentElement.removeEventListener(\"mousedown\",this.deselect),document.documentElement.removeEventListener(\"touchmove\",this.move,!0),document.documentElement.removeEventListener(\"touchend\",this.up,!0),document.documentElement.removeEventListener(\"touchcancel\",this.up,!0),document.documentElement.removeEventListener(\"touchstart\",this.up,!0)},methods:{deselect:function(){this.preventActiveBehavior||(this.active=!1)},move:function(t){(this.stickDrag||this.bodyDrag)&&(t.stopPropagation(),this.stickDrag&&this.stickMove(t),this.bodyDrag&&this.bodyMove(t))},up:function(t){this.stickDrag&&this.stickUp(t),this.bodyDrag&&this.bodyUp(t)},bodyDown:function(t){var e=t.target||t.srcElement;this.preventActiveBehavior||(this.active=!0),t.button&&0!==t.button||(this.$emit(\"clicked\",t),this.active&&(this.dragHandle&&e.getAttribute(\"data-drag-handle\")!==this._uid.toString()||this.dragCancel&&e.getAttribute(\"data-drag-cancel\")===this._uid.toString()||(t.stopPropagation(),t.preventDefault(),this.isDraggable&&(this.bodyDrag=!0),this.stickStartPos.mouseX=void 0!==t.pageX?t.pageX:t.touches[0].pageX,this.stickStartPos.mouseY=void 0!==t.pageY?t.pageY:t.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.parentLimitation&&(this.limits=this.calcDragLimitation()))))},calcDragLimitation:function(){var t=this.parentWidth,e=this.parentHeight;return{minLeft:0,maxLeft:t-this.width,minRight:0,maxRight:t-this.width,minTop:0,maxTop:e-this.height,minBottom:0,maxBottom:e-this.height}},bodyMove:function(t){var e=this.stickStartPos,i=this.parentWidth,o=this.parentHeight,n=this.gridX,r=this.gridY,s=this.width,a=this.height,c=void 0!==t.pageX?t.pageX:t.touches[0].pageX,h=void 0!==t.pageY?t.pageY:t.touches[0].pageY,l={x:(\"y\"!==this.axis&&\"none\"!==this.axis?e.mouseX-c:0)/this.parentScaleX,y:(\"x\"!==this.axis&&\"none\"!==this.axis?e.mouseY-h:0)/this.parentScaleY},u=e.top-l.y,d=e.bottom+l.y,m=e.left-l.x,p=e.right+l.x;if(this.snapToGrid){var f=!0,g=!0,v=u-Math.floor(u/r)*r,w=o-d-Math.floor((o-d)/r)*r,b=m-Math.floor(m/n)*n,x=i-p-Math.floor((i-p)/n)*n;v>r/2&&(v-=r),w>r/2&&(w-=r),b>n/2&&(b-=n),x>n/2&&(x-=n),Math.abs(w)<Math.abs(v)&&(f=!1),Math.abs(x)<Math.abs(b)&&(g=!1),u-=f?v:w,d=o-a-u,m-=g?b:x,p=i-s-m}this.rawTop=u,this.rawBottom=d,this.rawLeft=m,this.rawRight=p,this.$emit(\"dragging\",this.rect)},bodyUp:function(){this.bodyDrag=!1,this.$emit(\"dragging\",this.rect),this.$emit(\"dragstop\",this.rect),this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},stickDown:function(t,e){if(this.isResizable&&this.active){switch(this.stickDrag=!0,this.stickStartPos.mouseX=void 0!==e.pageX?e.pageX:e.touches[0].pageX,this.stickStartPos.mouseY=void 0!==e.pageY?e.pageY:e.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.currentStick=t.split(\"\"),this.stickAxis=null,this.currentStick[0]){case\"b\":case\"t\":this.stickAxis=\"y\"}switch(this.currentStick[1]){case\"r\":case\"l\":this.stickAxis=\"y\"===this.stickAxis?\"xy\":\"x\"}this.limits=this.calcResizeLimitation()}},calcResizeLimitation:function(){var t=this.minWidth,e=this.minHeight,i=this.aspectFactor,o=this.width,n=this.height,r=this.bottom,s=this.top,a=this.left,c=this.right,h=this.stickAxis,l=this.parentLimitation?0:null;this.aspectRatio&&(t/e>i?e=t/i:t=i*e);var u={minLeft:l,maxLeft:a+(o-t),minRight:l,maxRight:c+(o-t),minTop:l,maxTop:s+(n-e),minBottom:l,maxBottom:r+(n-e)};if(this.aspectRatio){var d={minLeft:a-Math.min(s,r)*i*2,maxLeft:a+(n-e)/2*i*2,minRight:c-Math.min(s,r)*i*2,maxRight:c+(n-e)/2*i*2,minTop:s-Math.min(a,c)/i*2,maxTop:s+(o-t)/2/i*2,minBottom:r-Math.min(a,c)/i*2,maxBottom:r+(o-t)/2/i*2};\"x\"===h?u={minLeft:Math.max(u.minLeft,d.minLeft),maxLeft:Math.min(u.maxLeft,d.maxLeft),minRight:Math.max(u.minRight,d.minRight),maxRight:Math.min(u.maxRight,d.maxRight)}:\"y\"===h&&(u={minTop:Math.max(u.minTop,d.minTop),maxTop:Math.min(u.maxTop,d.maxTop),minBottom:Math.max(u.minBottom,d.minBottom),maxBottom:Math.min(u.maxBottom,d.maxBottom)})}return u},stickMove:function(t){var e=this.stickStartPos,i=void 0!==t.pageX?t.pageX:t.touches[0].pageX,o=void 0!==t.pageY?t.pageY:t.touches[0].pageY,n={x:(e.mouseX-i)/this.parentScaleX,y:(e.mouseY-o)/this.parentScaleY},r=e.top-n.y,s=e.bottom+n.y,a=e.left-n.x,c=e.right+n.x;switch(this.currentStick[0]){case\"b\":this.snapToGrid&&(s=this.parentHeight-Math.round((this.parentHeight-s)/this.gridY)*this.gridY),this.rawBottom=s;break;case\"t\":this.snapToGrid&&(r=Math.round(r/this.gridY)*this.gridY),this.rawTop=r}switch(this.currentStick[1]){case\"r\":this.snapToGrid&&(c=this.parentWidth-Math.round((this.parentWidth-c)/this.gridX)*this.gridX),this.rawRight=c;break;case\"l\":this.snapToGrid&&(a=Math.round(a/this.gridX)*this.gridX),this.rawLeft=a}this.$emit(\"resizing\",this.rect)},stickUp:function(){this.stickDrag=!1,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.stickAxis=null,this.$emit(\"resizing\",this.rect),this.$emit(\"resizestop\",this.rect)},aspectRatioCorrection:function(){if(this.aspectRatio){var t=this.bottom,e=this.top,i=this.left,o=this.right,n=this.width,r=this.height,s=this.aspectFactor,a=this.currentStick;if(n/r>s){var c=s*r;\"l\"===a[1]?this.left=i+n-c:this.right=o+n-c}else{var h=n/s;\"t\"===a[0]?this.top=e+r-h:this.bottom=t+r-h}}}},computed:{style:function(){return{top:this.top+\"px\",left:this.left+\"px\",width:this.width+\"px\",height:this.height+\"px\",zIndex:this.zIndex}},vdrStick:function(){var t=this;return function(e){var i={width:t.stickSize/t.parentScaleX+\"px\",height:t.stickSize/t.parentScaleY+\"px\"};return i[o.y[e[0]]]=t.stickSize/t.parentScaleX/-2+\"px\",i[o.x[e[1]]]=t.stickSize/t.parentScaleX/-2+\"px\",i}},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},rect:function(){return{left:Math.round(this.left),top:Math.round(this.top),width:Math.round(this.width),height:Math.round(this.height)}}},watch:{rawLeft:function(t){var e=this.limits,i=this.stickAxis,o=this.aspectFactor,n=this.aspectRatio,r=this.left,s=this.bottom,a=this.top;if(null!==e.minLeft&&t<e.minLeft?t=e.minLeft:null!==e.maxLeft&&e.maxLeft<t&&(t=e.maxLeft),n&&\"x\"===i){var c=r-t;this.rawTop=a-c/o/2,this.rawBottom=s-c/o/2}this.left=t},rawRight:function(t){var e=this.limits,i=this.stickAxis,o=this.aspectFactor,n=this.aspectRatio,r=this.right,s=this.bottom,a=this.top;if(null!==e.minRight&&t<e.minRight?t=e.minRight:null!==e.maxRight&&e.maxRight<t&&(t=e.maxRight),n&&\"x\"===i){var c=r-t;this.rawTop=a-c/o/2,this.rawBottom=s-c/o/2}this.right=t},rawTop:function(t){var e=this.limits,i=this.stickAxis,o=this.aspectFactor,n=this.aspectRatio,r=this.right,s=this.left,a=this.top;if(null!==e.minTop&&t<e.minTop?t=e.minTop:null!==e.maxTop&&e.maxTop<t&&(t=e.maxTop),n&&\"y\"===i){var c=a-t;this.rawLeft=s-c*o/2,this.rawRight=r-c*o/2}this.top=t},rawBottom:function(t){var e=this.limits,i=this.stickAxis,o=this.aspectFactor,n=this.aspectRatio,r=this.right,s=this.left,a=this.bottom;if(null!==e.minBottom&&t<e.minBottom?t=e.minBottom:null!==e.maxBottom&&e.maxBottom<t&&(t=e.maxBottom),n&&\"y\"===i){var c=a-t;this.rawLeft=s-c*o/2,this.rawRight=r-c*o/2}this.bottom=t},width:function(){this.aspectRatioCorrection()},height:function(){this.aspectRatioCorrection()},active:function(t){t?this.$emit(\"activated\"):this.$emit(\"deactivated\")},isActive:function(t){this.active=t},z:function(t){(t>=0||\"auto\"===t)&&(this.zIndex=t)},aspectRatio:function(t){t&&(this.aspectFactor=this.width/this.height)},minw:function(t){t>0&&t<=this.width&&(this.minWidth=t)},minh:function(t){t>0&&t<=this.height&&(this.minHeight=t)},x:function(){if(!this.stickDrag&&!this.bodyDrag){this.parentLimitation&&(this.limits=this.calcDragLimitation());var t=this.x-this.left;this.rawLeft=this.x,this.rawRight=this.right-t}},y:function(){if(!this.stickDrag&&!this.bodyDrag){this.parentLimitation&&(this.limits=this.calcDragLimitation());var t=this.y-this.top;this.rawTop=this.y,this.rawBottom=this.bottom-t}},w:function(){if(!this.stickDrag&&!this.bodyDrag){this.currentStick=[\"m\",\"r\"],this.stickAxis=\"x\",this.parentLimitation&&(this.limits=this.calcResizeLimitation());var t=this.width-this.w;this.rawRight=this.right+t}},h:function(){if(!this.stickDrag&&!this.bodyDrag){this.currentStick=[\"b\",\"m\"],this.stickAxis=\"y\",this.parentLimitation&&(this.limits=this.calcResizeLimitation());var t=this.height-this.h;this.rawBottom=this.bottom+t}},parentW:function(t){this.right=t-this.width-this.left,this.parentWidth=t},parentH:function(t){this.bottom=t-this.height-this.top,this.parentHeight=t}}}},15:function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var i=e.protocol+\"//\"+e.host,o=i+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,(function(t,e){var n,r=e.trim().replace(/^\"(.*)\"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(r)?t:(n=0===r.indexOf(\"//\")?r:0===r.indexOf(\"/\")?i+r:o+r.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(n)+\")\")}))}},16:function(t,e,i){e=t.exports=i(6)(!1),e.push([t.i,'\\n.vdr,.vdr.active:before{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box\\n}\\n.vdr.active:before{content:\"\";width:100%;height:100%;top:0;left:0;outline:1px dashed #d6d6d6\\n}\\n.vdr-stick{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;font-size:1px;background:#fff;border:1px solid #6c6c6c;-webkit-box-shadow:0 0 2px #bbb;box-shadow:0 0 2px #bbb\\n}\\n.inactive .vdr-stick{display:none\\n}\\n.vdr-stick-br,.vdr-stick-tl{cursor:nwse-resize\\n}\\n.vdr-stick-bm,.vdr-stick-tm{left:50%;cursor:ns-resize\\n}\\n.vdr-stick-bl,.vdr-stick-tr{cursor:nesw-resize\\n}\\n.vdr-stick-ml,.vdr-stick-mr{top:50%;cursor:ew-resize\\n}\\n.vdr-stick.not-resizable{display:none\\n}',\"\"])},17:function(t,e,i){\"use strict\";var o=i(0),n=i.n(o);n.a},18:function(t,e,i){\"use strict\";i.r(e);var o=i(4),n=i(2);for(var r in n)\"default\"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s=(i(17),i(3)),a=Object(s.a)(n.default,o.a,o.b,!1,null,null,null);a.options.__file=\"src/components/vue-drag-resize.vue\",e.default=a.exports},2:function(t,e,i){\"use strict\";i.r(e);var o=i(1),n=i.n(o);for(var r in o)\"default\"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);e.default=n.a},3:function(t,e,i){\"use strict\";function o(t,e,i,o,n,r,s,a){var c,h=\"function\"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),o&&(h.functional=!0),r&&(h._scopeId=\"data-v-\"+r),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},h._ssrRegister=c):n&&(c=a?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(h.functional){h._injectStyles=c;var l=h.render;h.render=function(t,e){return c.call(e),l(t,e)}}else{var u=h.beforeCreate;h.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:h}}i.d(e,\"a\",(function(){return o}))},4:function(t,e,i){\"use strict\";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"vdr\",class:(t.active||t.isActive?\"active\":\"inactive\")+\" \"+(t.contentClass?t.contentClass:\"\"),style:t.style,on:{mousedown:function(e){t.bodyDown(e)},touchstart:function(e){t.bodyDown(e)},touchend:function(e){t.up(e)}}},[t._t(\"default\"),t._v(\" \"),t._l(t.sticks,(function(e){return i(\"div\",{staticClass:\"vdr-stick\",class:[\"vdr-stick-\"+e,t.isResizable?\"\":\"not-resizable\"],style:t.vdrStick(e),on:{mousedown:function(i){i.stopPropagation(),i.preventDefault(),t.stickDown(e,i)},touchstart:function(i){i.stopPropagation(),i.preventDefault(),t.stickDown(e,i)}}})}))],2)},n=[];o._withStripped=!0,i.d(e,\"a\",(function(){return o})),i.d(e,\"b\",(function(){return n}))},44:function(t,e,i){\"use strict\";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var n=i(18);Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return o(n).default}})},5:function(t,e,i){function o(t,e){for(var i=0;i<t.length;i++){var o=t[i],n=p[o.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](o.parts[r]);for(;r<o.parts.length;r++)n.parts.push(l(o.parts[r],e))}else{var s=[];for(r=0;r<o.parts.length;r++)s.push(l(o.parts[r],e));p[o.id]={id:o.id,refs:1,parts:s}}}}function n(t,e){for(var i=[],o={},n=0;n<t.length;n++){var r=t[n],s=e.base?r[0]+e.base:r[0],a=r[1],c=r[2],h=r[3],l={css:a,media:c,sourceMap:h};o[s]?o[s].parts.push(l):i.push(o[s]={id:s,parts:[l]})}return i}function r(t,e){var i=g(t.insertInto);if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var o=b[b.length-1];if(\"top\"===t.insertAt)o?o.nextSibling?i.insertBefore(e,o.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),b.push(e);else{if(\"bottom\"!==t.insertAt)throw new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");i.appendChild(e)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function a(t){var e=document.createElement(\"style\");return t.attrs.type=\"text/css\",h(e,t.attrs),r(t,e),e}function c(t){var e=document.createElement(\"link\");return t.attrs.type=\"text/css\",t.attrs.rel=\"stylesheet\",h(e,t.attrs),r(t,e),e}function h(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function l(t,e){var i,o,n,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var h=w++;i=v||(v=a(e)),o=u.bind(null,i,h,!1),n=u.bind(null,i,h,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(i=c(e),o=m.bind(null,i,e),n=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=a(e),o=d.bind(null,i),n=function(){s(i)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}function u(t,e,i,o){var n=i?\"\":o.css;if(t.styleSheet)t.styleSheet.cssText=C(e,n);else{var r=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function d(t,e){var i=e.css,o=e.media;if(o&&t.setAttribute(\"media\",o),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function m(t,e,i){var o=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(o=x(o)),n&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+\" */\");var s=new Blob([o],{type:\"text/css\"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var p={},f=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),g=function(t){var e={};return function(i){return void 0===e[i]&&(e[i]=t.call(this,i)),e[i]}}((function(t){return document.querySelector(t)})),v=null,w=0,b=[],x=i(15);t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");e=e||{},e.attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=f()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var i=n(t,e);return o(i,e),function(t){for(var r=[],s=0;s<i.length;s++){var a=i[s],c=p[a.id];c.refs--,r.push(c)}t&&o(n(t,e),e);for(s=0;s<r.length;s++){c=r[s];if(0===c.refs){for(var h=0;h<c.parts.length;h++)c.parts[h]();delete p[c.id]}}}};var C=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join(\"\\n\")}}()},6:function(t,e){function i(t,e){var i=t[1]||\"\",n=t[3];if(!n)return i;if(e&&\"function\"==typeof btoa){var r=o(n);return[i].concat(n.sources.map((function(t){return\"/*# sourceURL=\"+n.sourceRoot+t+\" */\"}))).concat([r]).join(\"\\n\")}return[i].join(\"\\n\")}function o(t){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+\" */\"}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=i(e,t);return e[2]?\"@media \"+e[2]+\"{\"+o+\"}\":o})).join(\"\")},e.i=function(t,i){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var o={},n=0;n<this.length;n++){var r=this[n][0];\"number\"==typeof r&&(o[r]=!0)}for(n=0;n<t.length;n++){var s=t[n];\"number\"==typeof s[0]&&o[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]=\"(\"+s[2]+\") and (\"+i+\")\"),e.push(s))}},e}}})}))},\"74ce\":function(t,e,i){},c33b:function(t,e,i){\"use strict\";var o=i(\"74ce\"),n=i.n(o);n.a}}]);","extractedComments":[]}