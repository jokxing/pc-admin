{"remainingRequest":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3\\bf_admin\\src\\http\\axios.js","dependencies":[{"path":"D:\\vue3\\bf_admin\\src\\http\\axios.js","mtime":1594455162068},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfTWVzc2FnZTIgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBfTWVzc2FnZSBmcm9tICJlbGVtZW50LXVpL2xpYi9tZXNzYWdlIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSAxMDAwMDsgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp2YXIgU2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJy8nCn0pOyAvLyBheGlvcyDor7fmsYLmi6bmiKrlmagKClNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY2Vzc190b2tlbiIpKSB7CiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlcicgKyAnICAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgX01lc3NhZ2UuZXJyb3IoewogICAgbWVzc2FnZTogJ+ivt+axgui2heaXtiEnCiAgfSk7CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBheGlvcyByZXNwb25l5oum5oiq5ZmoCgpTZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgcmV0dXJuIHJlcy5kYXRhLmRhdGE7CiAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09IDQwMSkgewogICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2V4cGlyZXNfdGltZScpOwogICAgcmV0dXJuIHJlczsKICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT0gMjAxKSB7CiAgICByZXR1cm4gcmVzOwogIH0KCiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yICYmIGVycm9yLnJlc3BvbnNlKSB7CiAgICB2YXIgcmVzcG9uc2VDb2RlID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzOwoKICAgIHN3aXRjaCAocmVzcG9uc2VDb2RlKSB7CiAgICAgIGNhc2UgNDAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6ZSZ6K+vKDQwMCknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDE6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmnKrmjojmnYPvvIzor7fph43mlrDnmbvlvZUoNDAxKSc7CiAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZXhwaXJlc190aW1lJyk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwMzoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+aLkue7neiuv+mXrig0MDMpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC5Ye66ZSZKDQwNCknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDg6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLotoXml7YoNDA4KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acjeWKoeWZqOmUmeivryg1MDApJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAxOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5pyq5a6e546wKDUwMSknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDI6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfnvZHnu5zplJnor68oNTAyKSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMzoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acjeWKoeS4jeWPr+eUqCg1MDMpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R57uc6LaF5pe2KDUwNCknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDU6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICdIVFRQ54mI5pys5LiN5Y+X5pSv5oyBKDUwNSknOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gIlx1OEZERVx1NjNBNVx1NTFGQVx1OTUxOSgiLmNvbmNhdChlcnJvci5yZXNwb25zZS5zdGF0dXMsICIpXHVGRjAxIik7CiAgICB9CgogICAgX01lc3NhZ2UuZXJyb3IoewogICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICBwb3NpdGlvbjogJ21pZGRsZScsCiAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICB9KTsKCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgU2VydmljZTs="},{"version":3,"sources":["D:/vue3/bf_admin/src/http/axios.js"],"names":["axios","router","defaults","timeout","Service","create","baseURL","interceptors","request","use","config","localStorage","getItem","headers","Authorization","error","message","Promise","reject","response","res","status","data","push","removeItem","responseCode","position","duration"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport router from '@/router'\r\n\r\naxios.defaults.timeout = 10000 // 请求超时时间\r\n\r\nconst Service = axios.create({\r\n    baseURL: '/',\r\n})\r\n\r\n// axios 请求拦截器\r\nService.interceptors.request.use(\r\n    config=>{\r\n        if(localStorage.getItem(\"access_token\")){\r\n\t\t\tconfig.headers.Authorization = 'Bearer' + '  ' + localStorage.getItem('access_token');\r\n\t\t}\r\n        return config\r\n    },error=>{\r\n        Message.error({ message: '请求超时!' });\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n  \r\n// axios respone拦截器\r\nService.interceptors.response.use(\r\n    res=>{\r\n        if(res.status == 200){\r\n            return res.data.data;\r\n        }else if (res.status == 401){\r\n            router.push('/login');\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('expires_time');\r\n            return res;\r\n        }else if (res.status == 201) {\r\n            return res;\r\n        }\r\n        return res;\r\n    },\r\n    error=>{\r\n        if (error && error.response) {\r\n            const responseCode = error.response.status;\r\n            switch (responseCode) {\r\n            case 400:\r\n                error.message = '请求错误(400)'\r\n                break\r\n            case 401:\r\n                error.message = '未授权，请重新登录(401)';\r\n                router.push('/login');\r\n                localStorage.removeItem('access_token');\r\n                localStorage.removeItem('expires_time')\r\n                break\r\n            case 403:\r\n                error.message = '拒绝访问(403)'\r\n                break\r\n            case 404:\r\n                error.message = '请求出错(404)'\r\n                break\r\n            case 408:\r\n                error.message = '请求超时(408)'\r\n                break\r\n            case 500:\r\n                error.message = '服务器错误(500)'\r\n                break\r\n            case 501:\r\n                error.message = '服务未实现(501)'\r\n                break\r\n            case 502:\r\n                error.message = '网络错误(502)'\r\n                break\r\n            case 503:\r\n                error.message = '服务不可用(503)'\r\n                break\r\n            case 504:\r\n                error.message = '网络超时(504)'\r\n                break\r\n            case 505:\r\n                error.message = 'HTTP版本不受支持(505)'\r\n                break\r\n            default:\r\n                error.message = `连接出错(${error.response.status})！`            \r\n            }\r\n            Message.error({\r\n                message: error.message,\r\n                position: 'middle',\r\n                duration: 2000\r\n            })\r\n            return Promise.reject(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\nexport default Service;"]}]}