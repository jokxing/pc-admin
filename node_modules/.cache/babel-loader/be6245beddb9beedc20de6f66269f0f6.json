{"remainingRequest":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3\\bf_admin\\src\\http\\axios.js","dependencies":[{"path":"D:\\vue3\\bf_admin\\src\\http\\axios.js","mtime":1594187624850},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwoKZnVuY3Rpb24gR2V0UmVxdWVzdCgpIHsKICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDsKICB2YXIgdGhlUmVxdWVzdCA9IG5ldyBPYmplY3QoKTsKCiAgaWYgKHVybC5pbmRleE9mKCI/IikgIT0gLTEpIHsKICAgIHZhciBzdHIgPSB1cmwuc3Vic3RyKDEpLnNwbGl0KCImIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsKICAgICAgdGhlUmVxdWVzdFtzdHJbaV0uc3BsaXQoIj0iKVswXV0gPSB1bmVzY2FwZShzdHJbaV0uc3BsaXQoIj0iKVsxXSk7CiAgICB9CiAgfQoKICByZXR1cm4gdGhlUmVxdWVzdDsKfQoKdmFyIFJlcXVlc3QgPSBuZXcgT2JqZWN0KCk7ClJlcXVlc3QgPSBHZXRSZXF1ZXN0KCk7CmF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSAxMDAwMDsgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp2YXIgYmVhcmVyID0gUmVxdWVzdFsnVXJsVG9rZW4nXSA/ICdCZWFyZXIgICcgKyBSZXF1ZXN0WydVcmxUb2tlbiddIDogJyc7CnZhciBTZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnLycsCiAgaGVhZGVyczogewogICAgJ0F1dGhvcml6YXRpb24nOiBiZWFyZXIKICB9Cn0pOyAvLyBheGlvcyDor7fmsYLmi6bmiKrlmagKClNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBfTWVzc2FnZS5lcnJvcih7CiAgICBtZXNzYWdlOiAn6K+35rGC6LaF5pe2IScKICB9KTsKCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIGF4aW9zIHJlc3BvbmXmi6bmiKrlmagKClNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICByZXR1cm4gcmVzLmRhdGEuZGF0YTsKICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT0gNDAxKSB7CiAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICByZXR1cm4gcmVzOwogIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PSAyMDEpIHsKICAgIHJldHVybiByZXM7CiAgfQoKICByZXR1cm4gcmVzOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IgJiYgZXJyb3IucmVzcG9uc2UpIHsKICAgIHZhciByZXNwb25zZUNvZGUgPSBlcnJvci5yZXNwb25zZS5zdGF0dXM7CgogICAgc3dpdGNoIChyZXNwb25zZUNvZGUpIHsKICAgICAgY2FzZSA0MDA6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLplJnor68oNDAwKSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwMToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acquaOiOadg++8jOivt+mHjeaWsOeZu+W9lSg0MDEpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5ouS57ud6K6/6ZeuKDQwMyknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLlh7rplJkoNDA0KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwODoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+ivt+axgui2heaXtig0MDgpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5Zmo6ZSZ6K+vKDUwMCknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDE6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmnI3liqHmnKrlrp7njrAoNTAxKSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMjoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOmUmeivryg1MDIpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5LiN5Y+v55SoKDUwMyknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDQ6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfnvZHnu5zotoXml7YoNTA0KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ0hUVFDniYjmnKzkuI3lj5fmlK/mjIEoNTA1KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAiXHU4RkRFXHU2M0E1XHU1MUZBXHU5NTE5KCIuY29uY2F0KGVycm9yLnJlc3BvbnNlLnN0YXR1cywgIilcdUZGMDEiKTsKICAgIH0KCiAgICBfTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgIHBvc2l0aW9uOiAnbWlkZGxlJywKICAgICAgZHVyYXRpb246IDIwMDAKICAgIH0pOwoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvci5yZXNwb25zZS5kYXRhKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBTZXJ2aWNlOw=="},{"version":3,"sources":["D:/vue3/bf_admin/src/http/axios.js"],"names":["axios","router","GetRequest","url","window","location","search","theRequest","Object","indexOf","str","substr","split","i","length","unescape","Request","defaults","timeout","bearer","Service","create","baseURL","headers","interceptors","request","use","config","error","message","Promise","reject","response","res","status","data","push","responseCode","position","duration"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport router from '@/router'\r\n\r\nfunction GetRequest() {\r\n    var url = window.location.search;\r\n\tvar theRequest = new Object();\r\n\tif (url.indexOf(\"?\") != -1) {\r\n\t\tvar str = url.substr(1).split(\"&\");\r\n\t\tfor(var i = 0; i < str.length; i ++) {\r\n\t\t\ttheRequest[str[i].split(\"=\")[0]] = unescape(str[i].split(\"=\")[1]);\r\n\t\t}\r\n\t}\r\n\treturn theRequest;\r\n}\r\nvar Request = new Object();\r\nRequest = GetRequest();\r\n\r\naxios.defaults.timeout = 10000 // 请求超时时间\r\n\r\nconst bearer = Request['UrlToken'] ? 'Bearer  ' + Request['UrlToken'] : '';\r\nconst Service = axios.create({\r\n    baseURL: '/',\r\n    headers: {\r\n        'Authorization': bearer,\r\n    }\r\n})\r\n\r\n// axios 请求拦截器\r\nService.interceptors.request.use(\r\n    config=>{\r\n        return config\r\n    },error=>{\r\n        Message.error({ message: '请求超时!' });\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n  \r\n// axios respone拦截器\r\nService.interceptors.response.use(\r\n    res=>{\r\n        if(res.status == 200){\r\n            return res.data.data;\r\n        }else if (res.status == 401){\r\n            router.push('/login');\r\n            return res;\r\n        }else if (res.status == 201) {\r\n            return res;\r\n        }\r\n        return res;\r\n    },\r\n    error=>{\r\n        if (error && error.response) {\r\n            const responseCode = error.response.status;\r\n            switch (responseCode) {\r\n            case 400:\r\n                error.message = '请求错误(400)'\r\n                break\r\n            case 401:\r\n                error.message = '未授权，请重新登录(401)'\r\n                break\r\n            case 403:\r\n                error.message = '拒绝访问(403)'\r\n                break\r\n            case 404:\r\n                error.message = '请求出错(404)'\r\n                break\r\n            case 408:\r\n                error.message = '请求超时(408)'\r\n                break\r\n            case 500:\r\n                error.message = '服务器错误(500)'\r\n                break\r\n            case 501:\r\n                error.message = '服务未实现(501)'\r\n                break\r\n            case 502:\r\n                error.message = '网络错误(502)'\r\n                break\r\n            case 503:\r\n                error.message = '服务不可用(503)'\r\n                break\r\n            case 504:\r\n                error.message = '网络超时(504)'\r\n                break\r\n            case 505:\r\n                error.message = 'HTTP版本不受支持(505)'\r\n                break\r\n            default:\r\n                error.message = `连接出错(${error.response.status})！`            \r\n            }\r\n            Message.error({\r\n                message: error.message,\r\n                position: 'middle',\r\n                duration: 2000\r\n            })\r\n            return Promise.reject(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\nexport default Service;"]}]}