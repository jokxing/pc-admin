{"remainingRequest":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3\\bf_admin\\src\\http\\axios.js","dependencies":[{"path":"D:\\vue3\\bf_admin\\src\\http\\axios.js","mtime":1610792704730},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfTWVzc2FnZTIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvbWVzc2FnZS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9NZXNzYWdlIGZyb20gImVsZW1lbnQtdWkvbGliL21lc3NhZ2UiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHsgZ3VpZCwgZ2V0U2VydmVyRGF0ZSB9IGZyb20gJy4vdXRpbHMuanMnOyAvLyBheGlvcy5kZWZhdWx0cy50aW1lb3V0ID0gMTAwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp2YXIgU2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogJy8nCn0pOyAvLyBheGlvcyDor7fmsYLmi6bmiKrlmagKCnZhciBzZXJ2ZXJUaW1lc3RhbXAgPSBnZXRTZXJ2ZXJEYXRlKCk7CnZhciBsb2NhbFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwpTZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3NfdG9rZW4iKSkgewogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXInICsgJyAgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICB9CgogIHZhciB0aW1lc3RhbXAgPSBNYXRoLmNlaWwoKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9jYWxUaW1lc3RhbXAgKyBzZXJ2ZXJUaW1lc3RhbXApIC8gMTAwMCk7CiAgdmFyIG5vbmNlID0gZ3VpZCgpOwogIHZhciBzaWduYXR1cmUgPSBhZXModGltZXN0YW1wLCBzZXJ2ZXJUaW1lc3RhbXAsIGxvY2FsVGltZXN0YW1wLCBub25jZSwgY29uZmlnLnVybCk7CiAgY29uZmlnLmhlYWRlcnNbJ1RpbWVzdGFtcCddID0gdGltZXN0YW1wOwogIGNvbmZpZy5oZWFkZXJzWydOb25jZSddID0gbm9uY2U7CiAgY29uZmlnLmhlYWRlcnNbJ1NpZ25hdHVyZSddID0gc2lnbmF0dXJlOwogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIF9NZXNzYWdlLmVycm9yKHsKICAgIG1lc3NhZ2U6ICfor7fmsYLotoXml7YhJwogIH0pOwoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8gYXhpb3MgcmVzcG9uZeaLpuaIquWZqAoKd2luZG93LmkgPSAwOwpTZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIHdpbmRvdy5pID0gMDsKCiAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICByZXR1cm4gcmVzOwogIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PSA0MDEpIHsKICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdleHBpcmVzX3RpbWUnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdtb2JpbGUnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhZ2VudExpbmsnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd3aXRoZHJhd01vbmV5Jyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnc2VsZWN0ZWRCZ0ltZycpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ21vbmV5Jyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VuZXJhdGVCYW5rQ2FyZERhdGEnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjbW9uZXknKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdoYXNfcGF5X3B3ZCcpOwogICAgcmV0dXJuIHJlczsKICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT0gMjAxKSB7CiAgICByZXR1cm4gcmVzOwogIH0KCiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yICYmIGVycm9yLnJlc3BvbnNlKSB7CiAgICB2YXIgcmVzcG9uc2VDb2RlID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzOwoKICAgIHN3aXRjaCAocmVzcG9uc2VDb2RlKSB7CiAgICAgIGNhc2UgNDAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6ZSZ6K+vKDQwMCknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDE6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdleHBpcmVzX3RpbWUnKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbW9iaWxlJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FnZW50TGluaycpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd3aXRoZHJhd01vbmV5Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3NlbGVjdGVkQmdJbWcnKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbW9uZXknKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VuZXJhdGVCYW5rQ2FyZERhdGEnKTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY21vbmV5Jyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2hhc19wYXlfcHdkJyk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwMzoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+aLkue7neiuv+mXrig0MDMpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC5Ye66ZSZKDQwNCknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDg6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLotoXml7YoNDA4KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMDoKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlID09ICdVbmF1dGhlbnRpY2F0ZWQuJykgewogICAgICAgICAgZXJyb3IubWVzc2FnZSA9ICcnOwogICAgICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2V4cGlyZXNfdGltZScpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ21vYmlsZScpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FnZW50TGluaycpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3dpdGhkcmF3TW9uZXknKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzZWxlY3RlZEJnSW1nJyk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbW9uZXknKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnZW5lcmF0ZUJhbmtDYXJkRGF0YScpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2Ntb25leScpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2hhc19wYXlfcHdkJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5Zmo6ZSZ6K+vKDUwMCknOwogICAgICAgIH0KCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acjeWKoeacquWunueOsCg1MDEpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAyOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R57uc6ZSZ6K+vKDUwMiknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDM6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmnI3liqHkuI3lj6/nlKgoNTAzKSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOi2heaXtig1MDQpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTA1OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAnSFRUUOeJiOacrOS4jeWPl+aUr+aMgSg1MDUpJzsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6IC8vIGVycm9yLm1lc3NhZ2UgPSBg6L+e5o6l5Ye66ZSZKCR7ZXJyb3IucmVzcG9uc2Uuc3RhdHVzfSnvvIFgICAgICAgICAgICAgCgogICAgfQoKICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICAgIGlmICh3aW5kb3cuaSA9PSAwKSB7CiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgIT0gJycpIHsKICAgICAgICAgIF9NZXNzYWdlLmVycm9yKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgcG9zaXRpb246ICdtaWRkbGUnLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB3aW5kb3cuaSsrOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LmkgPSAwOwoKICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyAhPSA0MTIpIHsKICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSAhPSAnJykgewogICAgICAgICAgX01lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICBwb3NpdGlvbjogJ21pZGRsZScsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgU2VydmljZTs="},{"version":3,"sources":["D:/vue3/bf_admin/src/http/axios.js"],"names":["axios","router","guid","getServerDate","Service","create","baseURL","serverTimestamp","localTimestamp","Date","getTime","interceptors","request","use","config","localStorage","getItem","headers","Authorization","timestamp","Math","ceil","nonce","signature","aes","url","error","message","Promise","reject","window","i","response","res","status","push","removeItem","responseCode","data","position","duration"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport router from '@/router'\r\nimport {guid,getServerDate} from './utils.js'\r\n\r\n// axios.defaults.timeout = 10000 // 请求超时时间\r\n\r\nconst Service = axios.create({\r\n    baseURL: '/',\r\n})\r\n\r\n// axios 请求拦截器\r\nconst serverTimestamp = getServerDate();\r\nconst localTimestamp = new Date().getTime();\r\nService.interceptors.request.use(\r\n    config=>{\r\n        if(localStorage.getItem(\"access_token\")){\r\n\t\t\tconfig.headers.Authorization = 'Bearer' + '  ' + localStorage.getItem('access_token');\r\n        }\r\n        const timestamp = Math.ceil((new Date().getTime() - localTimestamp + serverTimestamp) / 1000) \r\n\t\tconst nonce = guid()\r\n\t\tconst signature = aes(timestamp,serverTimestamp,localTimestamp,nonce,config.url);\r\n\t\tconfig.headers['Timestamp'] = timestamp;\r\n\t\tconfig.headers['Nonce'] = nonce;\r\n        config.headers['Signature'] = signature;\r\n        return config\r\n    },error=>{\r\n        Message.error({ message: '请求超时!' });\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n// axios respone拦截器\r\nwindow.i = 0\r\nService.interceptors.response.use(\r\n    res=>{\r\n        window.i = 0;\r\n        if(res.status == 200){\r\n            return res;\r\n        }else if (res.status == 401){\r\n            router.push('/login');\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('expires_time');\r\n            localStorage.removeItem('mobile');\r\n            localStorage.removeItem('agentLink');\r\n            localStorage.removeItem('withdrawMoney');\r\n            localStorage.removeItem('selectedBgImg');\r\n            localStorage.removeItem('money');\r\n            localStorage.removeItem('generateBankCardData');\r\n            localStorage.removeItem('cmoney');\r\n            localStorage.removeItem('has_pay_pwd');\r\n            return res;\r\n        }else if (res.status == 201) {\r\n            return res;\r\n        }\r\n        return res;\r\n    },\r\n    error=>{\r\n        if (error && error.response) {\r\n            const responseCode = error.response.status;\r\n            switch (responseCode) {\r\n            case 400:\r\n                error.message = '请求错误(400)'\r\n                break\r\n            case 401:\r\n                error.message = error.response.data.message;\r\n                router.push('/login');\r\n                localStorage.removeItem('access_token');\r\n                localStorage.removeItem('expires_time');\r\n                localStorage.removeItem('mobile');\r\n                localStorage.removeItem('agentLink');\r\n                localStorage.removeItem('withdrawMoney');\r\n                localStorage.removeItem('selectedBgImg');\r\n                localStorage.removeItem('money');\r\n                localStorage.removeItem('generateBankCardData');\r\n                localStorage.removeItem('cmoney');\r\n                localStorage.removeItem('has_pay_pwd');\r\n                break\r\n            case 403:\r\n                error.message = '拒绝访问(403)'\r\n                break\r\n            case 404:\r\n                error.message = '请求出错(404)'\r\n                break\r\n            case 408:\r\n                error.message = '请求超时(408)'\r\n                break\r\n            case 500:\r\n                if(error.response.data.message == 'Unauthenticated.'){\r\n                    error.message = '';\r\n                    router.push('/login');\r\n                    localStorage.removeItem('access_token');\r\n                    localStorage.removeItem('expires_time');\r\n                    localStorage.removeItem('mobile');\r\n                    localStorage.removeItem('agentLink');\r\n                    localStorage.removeItem('withdrawMoney');\r\n                    localStorage.removeItem('selectedBgImg');\r\n                    localStorage.removeItem('money');\r\n                    localStorage.removeItem('generateBankCardData');\r\n                    localStorage.removeItem('cmoney');\r\n                    localStorage.removeItem('has_pay_pwd');\r\n                }else{\r\n                    error.message = '服务器错误(500)'\r\n                }\r\n                break\r\n            case 501:\r\n                error.message = '服务未实现(501)'\r\n                break\r\n            case 502:\r\n                error.message = '网络错误(502)'\r\n                break\r\n            case 503:\r\n                error.message = '服务不可用(503)'\r\n                break\r\n            case 504:\r\n                error.message = '网络超时(504)'\r\n                break\r\n            case 505:\r\n                error.message = 'HTTP版本不受支持(505)'\r\n                break\r\n            default:\r\n                // error.message = `连接出错(${error.response.status})！`            \r\n            }\r\n            if(error.response.status == 401){\r\n                if(window.i == 0){\r\n                    if(error.message != ''){\r\n                        Message.error({\r\n                            message: error.message,\r\n                            position: 'middle',\r\n                            duration: 2000\r\n                        })\r\n                    }\r\n                }\r\n                window.i++\r\n            }else{\r\n                window.i = 0;\r\n                if(error.response.status != 412){\r\n                    if(error.message != ''){\r\n                        Message.error({\r\n                            message: error.message,\r\n                            position: 'middle',\r\n                            duration: 2000\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            return Promise.reject(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\nexport default Service;"]}]}