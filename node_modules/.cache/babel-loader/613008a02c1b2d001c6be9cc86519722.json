{"remainingRequest":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3\\bf_admin\\src\\http\\axios.js","dependencies":[{"path":"D:\\vue3\\bf_admin\\src\\http\\axios.js","mtime":1599740137438},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfTWVzc2FnZTIgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBfTWVzc2FnZSBmcm9tICJlbGVtZW50LXVpL2xpYi9tZXNzYWdlIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7IC8vIGF4aW9zLmRlZmF1bHRzLnRpbWVvdXQgPSAxMDAwMCAvLyDor7fmsYLotoXml7bml7bpl7QKCnZhciBTZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnLycKfSk7IC8vIGF4aW9zIOivt+axguaLpuaIquWZqAoKU2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzX3Rva2VuIikpIHsKICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyJyArICcgICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgfQoKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBfTWVzc2FnZS5lcnJvcih7CiAgICBtZXNzYWdlOiAn6K+35rGC6LaF5pe2IScKICB9KTsKCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIGF4aW9zIHJlc3BvbmXmi6bmiKrlmagKClNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICByZXR1cm4gcmVzLmRhdGEuZGF0YTsKICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT0gNDAxKSB7CiAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZXhwaXJlc190aW1lJyk7CiAgICByZXR1cm4gcmVzOwogIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PSAyMDEpIHsKICAgIHJldHVybiByZXM7CiAgfQoKICByZXR1cm4gcmVzOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IgJiYgZXJyb3IucmVzcG9uc2UpIHsKICAgIHZhciByZXNwb25zZUNvZGUgPSBlcnJvci5yZXNwb25zZS5zdGF0dXM7CgogICAgc3dpdGNoIChyZXNwb25zZUNvZGUpIHsKICAgICAgY2FzZSA0MDA6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLplJnor68oNDAwKSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwMToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acquaOiOadg++8jOivt+mHjeaWsOeZu+W9lSg0MDEpJzsKICAgICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdleHBpcmVzX3RpbWUnKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5ouS57ud6K6/6ZeuKDQwMyknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLlh7rplJkoNDA0KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwODoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+ivt+axgui2heaXtig0MDgpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5Zmo6ZSZ6K+vKDUwMCknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDE6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfmnI3liqHmnKrlrp7njrAoNTAxKSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMjoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOmUmeivryg1MDIpJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5LiN5Y+v55SoKDUwMyknOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDQ6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfnvZHnu5zotoXml7YoNTA0KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ0hUVFDniYjmnKzkuI3lj5fmlK/mjIEoNTA1KSc7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAiXHU4RkRFXHU2M0E1XHU1MUZBXHU5NTE5KCIuY29uY2F0KGVycm9yLnJlc3BvbnNlLnN0YXR1cywgIilcdUZGMDEiKTsKICAgIH0KCiAgICBfTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgIHBvc2l0aW9uOiAnbWlkZGxlJywKICAgICAgZHVyYXRpb246IDIwMDAKICAgIH0pOwoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvci5yZXNwb25zZS5kYXRhKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBTZXJ2aWNlOw=="},{"version":3,"sources":["D:/vue3/bf_admin/src/http/axios.js"],"names":["axios","router","Service","create","baseURL","interceptors","request","use","config","localStorage","getItem","headers","Authorization","error","message","Promise","reject","response","res","status","data","push","removeItem","responseCode","position","duration"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,UAAnB,C,CAEA;;AAEA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAE;AADgB,CAAb,CAAhB,C,CAIA;;AACAF,OAAO,CAACG,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAAAC,MAAM,EAAE;AACJ,MAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAH,EAAwC;AAC7CF,IAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA+B,WAAW,IAAX,GAAkBH,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAjD;AACA;;AACK,SAAOF,MAAP;AACH,CANL,EAMM,UAAAK,KAAK,EAAE;AACL,WAAQA,KAAR,CAAc;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAAd;;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeH,KAAf,CAAP;AACH,CATL,E,CAYA;;AACAX,OAAO,CAACG,YAAR,CAAqBY,QAArB,CAA8BV,GAA9B,CACI,UAAAW,GAAG,EAAE;AACD,MAAGA,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACjB,WAAOD,GAAG,CAACE,IAAJ,CAASA,IAAhB;AACH,GAFD,MAEM,IAAIF,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAsB;AACxBlB,IAAAA,MAAM,CAACoB,IAAP,CAAY,QAAZ;AACAZ,IAAAA,YAAY,CAACa,UAAb,CAAwB,cAAxB;AACAb,IAAAA,YAAY,CAACa,UAAb,CAAwB,cAAxB;AACA,WAAOJ,GAAP;AACH,GALK,MAKA,IAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACzB,WAAOD,GAAP;AACH;;AACD,SAAOA,GAAP;AACH,CAbL,EAcI,UAAAL,KAAK,EAAE;AACH,MAAIA,KAAK,IAAIA,KAAK,CAACI,QAAnB,EAA6B;AACzB,QAAMM,YAAY,GAAGV,KAAK,CAACI,QAAN,CAAeE,MAApC;;AACA,YAAQI,YAAR;AACA,WAAK,GAAL;AACIV,QAAAA,KAAK,CAACC,OAAN,GAAgB,WAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,gBAAhB;AACAb,QAAAA,MAAM,CAACoB,IAAP,CAAY,QAAZ;AACAZ,QAAAA,YAAY,CAACa,UAAb,CAAwB,cAAxB;AACAb,QAAAA,YAAY,CAACa,UAAb,CAAwB,cAAxB;AACA;;AACJ,WAAK,GAAL;AACIT,QAAAA,KAAK,CAACC,OAAN,GAAgB,WAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,WAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,WAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,YAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,YAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,WAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,YAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,WAAhB;AACA;;AACJ,WAAK,GAAL;AACID,QAAAA,KAAK,CAACC,OAAN,GAAgB,iBAAhB;AACA;;AACJ;AACID,QAAAA,KAAK,CAACC,OAAN,sCAAwBD,KAAK,CAACI,QAAN,CAAeE,MAAvC;AAtCJ;;AAwCA,aAAQN,KAAR,CAAc;AACVC,MAAAA,OAAO,EAAED,KAAK,CAACC,OADL;AAEVU,MAAAA,QAAQ,EAAE,QAFA;AAGVC,MAAAA,QAAQ,EAAE;AAHA,KAAd;;AAKA,WAAOV,OAAO,CAACC,MAAR,CAAeH,KAAK,CAACI,QAAN,CAAeG,IAA9B,CAAP;AACH;AACJ,CAhEL;AAmEA,eAAelB,OAAf","sourcesContent":["import axios from 'axios'\r\nimport { Message } from 'element-ui'\r\nimport router from '@/router'\r\n\r\n// axios.defaults.timeout = 10000 // 请求超时时间\r\n\r\nconst Service = axios.create({\r\n    baseURL: '/',\r\n})\r\n\r\n// axios 请求拦截器\r\nService.interceptors.request.use(\r\n    config=>{\r\n        if(localStorage.getItem(\"access_token\")){\r\n\t\t\tconfig.headers.Authorization = 'Bearer' + '  ' + localStorage.getItem('access_token');\r\n\t\t}\r\n        return config\r\n    },error=>{\r\n        Message.error({ message: '请求超时!' });\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n  \r\n// axios respone拦截器\r\nService.interceptors.response.use(\r\n    res=>{\r\n        if(res.status == 200){\r\n            return res.data.data;\r\n        }else if (res.status == 401){\r\n            router.push('/login');\r\n            localStorage.removeItem('access_token');\r\n            localStorage.removeItem('expires_time');\r\n            return res;\r\n        }else if (res.status == 201) {\r\n            return res;\r\n        }\r\n        return res;\r\n    },\r\n    error=>{\r\n        if (error && error.response) {\r\n            const responseCode = error.response.status;\r\n            switch (responseCode) {\r\n            case 400:\r\n                error.message = '请求错误(400)'\r\n                break\r\n            case 401:\r\n                error.message = '未授权，请重新登录(401)';\r\n                router.push('/login');\r\n                localStorage.removeItem('access_token');\r\n                localStorage.removeItem('expires_time')\r\n                break\r\n            case 403:\r\n                error.message = '拒绝访问(403)'\r\n                break\r\n            case 404:\r\n                error.message = '请求出错(404)'\r\n                break\r\n            case 408:\r\n                error.message = '请求超时(408)'\r\n                break\r\n            case 500:\r\n                error.message = '服务器错误(500)'\r\n                break\r\n            case 501:\r\n                error.message = '服务未实现(501)'\r\n                break\r\n            case 502:\r\n                error.message = '网络错误(502)'\r\n                break\r\n            case 503:\r\n                error.message = '服务不可用(503)'\r\n                break\r\n            case 504:\r\n                error.message = '网络超时(504)'\r\n                break\r\n            case 505:\r\n                error.message = 'HTTP版本不受支持(505)'\r\n                break\r\n            default:\r\n                error.message = `连接出错(${error.response.status})！`            \r\n            }\r\n            Message.error({\r\n                message: error.message,\r\n                position: 'middle',\r\n                duration: 2000\r\n            })\r\n            return Promise.reject(error.response.data)\r\n        }\r\n    }\r\n)\r\n\r\nexport default Service;"]}]}