{"remainingRequest":"D:\\vue3\\bf_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue3\\bf_admin\\src\\views\\promotionZone\\generatePicture.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue3\\bf_admin\\src\\views\\promotionZone\\generatePicture.vue","mtime":1599746386200},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBoZWFkZXJzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvaGVhZGVyLnZ1ZScKaW1wb3J0IGZvb3RlcnMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9mb290ZXIudnVlJwoKaW1wb3J0IFFSQ29kZSBmcm9tICdxcmNvZGVqczInOwppbXBvcnQgVnVlRHJhZ1Jlc2l6ZSBmcm9tICJ2dWUtZHJhZy1yZXNpemUiOwppbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAiaHRtbDJjYW52YXMiOwppbXBvcnQgeyBiYXNlNjRTdHJpbmdUb0Jsb2IgfSBmcm9tICdibG9iLXV0aWwnCgppbXBvcnQgeyBVcEltZ0FwaSB9IGZyb20gJy4uLy4uL2h0dHAvYXBpLmpzJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGltZ1VybDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlbGVjdGVkQmdJbWcnKSwKICAgICAgICAgICAgdGFiczogWyfkuoznu7TnoIEnLCAn6IGU57O75pa55byPJywgJ+aWh+Wtl+S/oeaBryddLAogICAgICAgICAgICB0YWJOdW06IDAsCiAgICAgICAgICAgIC8vIOS6jOe7tOeggQogICAgICAgICAgICBxckNvZGVDb2xvcjogIiMwMDAiLAogICAgICAgICAgICBxckNvZGVCZ0NvbG9yOiAiI2ZmZiIsCiAgICAgICAgICAgIHFyQ29kZUxpbms6ICJodHRwczovL3d3dy5iYWlkdS5jb20iLAogICAgICAgICAgICBzaG93UXJDb2RlOiBmYWxzZSwKICAgICAgICAgICAgY2FudmFzV2lkdGg6IDkyLAogICAgICAgICAgICBjYW52YXNIZWlnaHQ6IDkyLAogICAgICAgICAgICAvLyDkuIrkvKDmjInpkq4KICAgICAgICAgICAgc2hvd1VwbG9hZEJ0bjogdHJ1ZSwKICAgICAgICAgICAgLy8g5LiK5Lyg5Yid5aeL5YyWCiAgICAgICAgICAgIHFuOnsKICAgICAgICAgICAgICAgIHRva2VuOiAiIgogICAgICAgICAgICB9LAogICAgICAgICAgICB1cFVybDogIiIsCiAgICAgICAgICAgIC8vIOS4iuS8oOaIkOWKn+WQjklNRwogICAgICAgICAgICBzaG93Q29udGFjdEltZzogZmFsc2UsCiAgICAgICAgICAgIGNvbnRhY3RJbWc6ICIiLAogICAgICAgICAgICAvLyDmloflrZcxCiAgICAgICAgICAgIHdvcmQxOiIiLAogICAgICAgICAgICB3b3JkQ29sb3IxOiAicmVkIiwKICAgICAgICAgICAgYmdDb2xvcjE6ICIjZmZmIiwKICAgICAgICAgICAgc2hvd1dvcmQxOiBmYWxzZSwKICAgICAgICAgICAgLy8g5paH5a2XMgogICAgICAgICAgICB3b3JkMjoiIiwKICAgICAgICAgICAgd29yZENvbG9yMjogInJlZCIsCiAgICAgICAgICAgIGJnQ29sb3IyOiAiI2ZmZiIsCiAgICAgICAgICAgIHNob3dXb3JkMjogZmFsc2UsCiAgICAgICAgICAgIC8vIOaWh+WtlzMKICAgICAgICAgICAgd29yZDM6IiIsCiAgICAgICAgICAgIHdvcmRDb2xvcjM6ICJyZWQiLAogICAgICAgICAgICBiZ0NvbG9yMzogIiNmZmYiLAogICAgICAgICAgICBzaG93V29yZDM6IGZhbHNlLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8g5LiK5Lyg5Yid5aeL5YyW6I635Y+W5LiK5Lyg5o6l5Y+j5Zyw5Z2A5ZKMdG9rZW4KICAgICAgICBVcEltZ0RhdGEgKCkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICBVcEltZ0FwaSgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIF90aGlzLnVwVXJsID0gcmVzLmRhdGEubWVzc2FnZS51cFVybDsKICAgICAgICAgICAgICAgIF90aGlzLnFuLnRva2VuID0gcmVzLmRhdGEubWVzc2FnZS5Ub2tlbgogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewoKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOWIneWni+WMlgogICAgICAgIGJpbmRRUkNvZGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbmV3IFFSQ29kZSh0aGlzLiRyZWZzLnFyQ29kZURpdiwgewogICAgICAgICAgICAgICAgdGV4dDogdGhpcy5xckNvZGVMaW5rLAogICAgICAgICAgICAgICAgd2lkdGg6IDkyLAogICAgICAgICAgICAgICAgaGVpZ2h0OiA5MiwKICAgICAgICAgICAgICAgIGNvbG9yRGFyazogdGhpcy5xckNvZGVDb2xvciwgLy/kuoznu7TnoIHpopzoibIKICAgICAgICAgICAgICAgIGNvbG9yTGlnaHQ6ICIjZmYwMDAwMDAiLCAvL+S6jOe7tOeggeiDjOaZr+iJsgogICAgICAgICAgICAgICAgY29ycmVjdExldmVsOiBRUkNvZGUuQ29ycmVjdExldmVsLkwvL+WuuemUmeeOh++8jEwvTS9ICiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDnvKnmlL7ml7bkuovku7YKICAgICAgICByZXNpemUobmV3UmVjdCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdxcmNvZGUnKVswXS5zdHlsZS53aWR0aCA9IChuZXdSZWN0LndpZHRoIC0gNDApICsgInB4IjsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncXJjb2RlJylbMF0uc3R5bGUuaGVpZ2h0ID0gKG5ld1JlY3QuaGVpZ2h0IC0gNDApICsgInB4IjsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NhbnZhcycpWzBdLnN0eWxlLndpZHRoID0gKG5ld1JlY3Qud2lkdGggLSA1MCkgKyAicHgiOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF0uc3R5bGUuaGVpZ2h0ID0gKG5ld1JlY3QuaGVpZ2h0IC0gNTApICsgInB4IjsKICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aCA9IChuZXdSZWN0LndpZHRoIC0gNTApOwogICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IChuZXdSZWN0LmhlaWdodCAtIDUwKTsKICAgICAgICB9LAogICAgICAgIC8vIOS6jOe7tOeggemTvuaOpei+k+WFpeS6i+S7tgogICAgICAgIHFyQ29kZUxpbmtJbnB1dCAoKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMucXJDb2RlRGl2LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICBuZXcgUVJDb2RlKHRoaXMuJHJlZnMucXJDb2RlRGl2LCB7CiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnFyQ29kZUxpbmssCiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5jYW52YXNXaWR0aCwKICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5jYW52YXNIZWlnaHQsCiAgICAgICAgICAgICAgICBjb2xvckRhcms6IHRoaXMucXJDb2RlQ29sb3IsIC8v5LqM57u056CB6aKc6ImyCiAgICAgICAgICAgICAgICBjb2xvckxpZ2h0OiAiI2ZmMDAwMDAwIiwgLy/kuoznu7TnoIHog4zmma/oibIKICAgICAgICAgICAgICAgIGNvcnJlY3RMZXZlbDogUVJDb2RlLkNvcnJlY3RMZXZlbC5MLy/lrrnplJnnjofvvIxML00vSAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5LqM57u056CB6aKc6Imy6Z2i5p2/5Lit5b2T5YmN5pi+56S655qE6aKc6Imy5Y+R55Sf5pS55Y+Y5pe26Kem5Y+RCiAgICAgICAgcXJDb2RlQ29sb3JBY3RpdmUgKHZhbCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLnFyQ29kZURpdi5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgbmV3IFFSQ29kZSh0aGlzLiRyZWZzLnFyQ29kZURpdiwgewogICAgICAgICAgICAgICAgdGV4dDogdGhpcy5xckNvZGVMaW5rLAogICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuY2FudmFzV2lkdGgsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2FudmFzSGVpZ2h0LAogICAgICAgICAgICAgICAgY29sb3JEYXJrOiB2YWwsIC8v5LqM57u056CB6aKc6ImyCiAgICAgICAgICAgICAgICBjb2xvckxpZ2h0OiAiI2ZmMDAwMDAwIiwgLy/kuoznu7TnoIHog4zmma/oibIKICAgICAgICAgICAgICAgIGNvcnJlY3RMZXZlbDogUVJDb2RlLkNvcnJlY3RMZXZlbC5MLy/lrrnplJnnjofvvIxML00vSAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5LqM57u056CB6IOM5pmv6Z2i5p2/5Lit5b2T5YmN5pi+56S655qE6aKc6Imy5Y+R55Sf5pS55Y+Y5pe26Kem5Y+RCiAgICAgICAgcXJDb2RlQmdDb2xvckFjdGl2ZSAodmFsKSB7CiAgICAgICAgICAgIHRoaXMucXJDb2RlQmdDb2xvciA9IHZhbAogICAgICAgIH0sCiAgICAgICAgLy8g5LiK5Lyg6Kem5Y+RY2hhbmdlCiAgICAgICAgaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgICAgICAgIHRoaXMuc2hvd1VwbG9hZEJ0biA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICAvLyDkuIrkvKDmiJDlip8KICAgICAgICBoYW5kbGVTdWNjZXNzKHJlcywgZmlsZSkgewogICAgICAgICAgICB0aGlzLnNob3dDb250YWN0SW1nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5jb250YWN0SW1nID0gcmVzLmZpbGVfcGF0aAogICAgICAgIH0sCiAgICAgICAgLy8g5LiK5Lyg5oql6ZSZCiAgICAgICAgaGFuZGxlRXJyb3IoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciIpCiAgICAgICAgICAgIHRoaXMuc2hvd1VwbG9hZEJ0biA9IHRydWUKICAgICAgICB9LAogICAgICAgIC8vIOWIoOmZpOWbvueJhwogICAgICAgIGhhbmRsZVJlbW92ZSgpIHsKICAgICAgICAgICAgdGhpcy5zaG93VXBsb2FkQnRuID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5jb250YWN0SW1nID0gIiIKICAgICAgICB9LAogICAgICAgIC8vIOS4iuS8oOWbvueJh+mZkOWItuagvOW8j+WSjOWkp+WwjwogICAgICAgIGJlZm9yZUF2YXRhclVwbG9hZChmaWxlKSB7CiAgICAgICAgICAgIGNvbnN0IGlzSlBHID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZyc7CiAgICAgICAgICAgIGNvbnN0IGlzUE5HID0gZmlsZS50eXBlID09PSAnaW1hZ2UvcG5nJwogICAgICAgICAgICBjb25zdCBpc0x0MTVNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyMDA7CgogICAgICAgICAgICBpZiAoIWlzSlBHICYmICFpc1BORykgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aS05YOP5Zu+54mH5Y+q6IO95pivIEpQRyDlkowgUE5HIOagvOW8jyEnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWlzTHQxNU0pIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWbvueJh+Wkp+Wwj+S4jeiDvei2hei/hyAyMDBLQiEnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gaXNKUEcgfHwgaXNQTkcgJiYgaXNMdDE1TTsKICAgICAgICB9LAogICAgICAgIC8vIOaWh+Wtl+minOiJsumdouadv+S4reW9k+WJjeaYvuekuueahOminOiJsuWPkeeUn+aUueWPmOaXtuinpuWPkQogICAgICAgIHdvcmRDb2xvckFjdGl2ZTEgKHZhbCkgewogICAgICAgICAgICB0aGlzLndvcmRDb2xvcjEgPSB2YWwKICAgICAgICB9LAogICAgICAgIGJnQ29sb3JBY3RpdmUxICh2YWwpIHsKICAgICAgICAgICAgdGhpcy5iZ0NvbG9yMSA9IHZhbAogICAgICAgIH0sCiAgICAgICAgd29yZENvbG9yQWN0aXZlMiAodmFsKSB7CiAgICAgICAgICAgIHRoaXMud29yZENvbG9yMiA9IHZhbAogICAgICAgIH0sCiAgICAgICAgYmdDb2xvckFjdGl2ZTIgKHZhbCkgewogICAgICAgICAgICB0aGlzLmJnQ29sb3IyID0gdmFsCiAgICAgICAgfSwKICAgICAgICB3b3JkQ29sb3JBY3RpdmUzICh2YWwpIHsKICAgICAgICAgICAgdGhpcy53b3JkQ29sb3IzID0gdmFsCiAgICAgICAgfSwKICAgICAgICBiZ0NvbG9yQWN0aXZlMyAodmFsKSB7CiAgICAgICAgICAgIHRoaXMuYmdDb2xvcjMgPSB2YWwKICAgICAgICB9LAogICAgICAgIC8vIOS/neWtmOWbvueJhwogICAgICAgIHNhdmVMb2NhbENsaWNrKCl7CiAgICAgICAgICAgIHZhciBkcmFnQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRyYWdDb250YWluZXIiKTsKICAgICAgICAgICAgbGV0IG9wdHMgPSB7CiAgICAgICAgICAgICAgICB1c2VDT1JTOiB0cnVlLAogICAgICAgICAgICAgICAgaGVpZ2h0OiBkcmFnQ29udGFpbmVyLm9mZnNldEhlaWdodCwgLy8g5LiL6Z2i6Kej5Yaz5b2T6aG16Z2i5rua5Yqo5LmL5ZCO55Sf5oiQ5Zu+54mH5Ye6546w55m96L656Zeu6aKYCiAgICAgICAgICAgICAgICB3aWR0aDogZHJhZ0NvbnRhaW5lci5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICAgIHNjcm9sbFg6IC04LAogICAgICAgICAgICAgICAgZHBpOiAzMDAsIC8vIOWkhOeQhuaooeeziumXrumimAogICAgICAgICAgICAgICAgc2NhbGU6IDEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaHRtbDJjYW52YXMoZHJhZ0NvbnRhaW5lcixvcHRzKS50aGVuKChjYW52YXMpID0+IHsKICAgICAgICAgICAgICAgIHZhciB1cmwgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsgICAgCiAgICAgICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgICAgICAgIGEuaHJlZiA9IHVybDsKICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSAi5o6o5bm/57Sg5p2QIjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgICAgICAgICAgICBhLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8vIOaJi+acuuafpeeciwogICAgICAgIG1vYmlsZVZpZXdDbGljayAoKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuaW1nUXJDb2RlRGl2LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICB2YXIgZHJhZ0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkcmFnQ29udGFpbmVyIik7CiAgICAgICAgICAgIGxldCBvcHRzID0gewogICAgICAgICAgICAgICAgdXNlQ09SUzogdHJ1ZSwKICAgICAgICAgICAgICAgIGhlaWdodDogZHJhZ0NvbnRhaW5lci5vZmZzZXRIZWlnaHQsIC8vIOS4i+mdouino+WGs+W9k+mhtemdoua7muWKqOS5i+WQjueUn+aIkOWbvueJh+WHuueOsOeZvei+uemXrumimAogICAgICAgICAgICAgICAgd2lkdGg6IGRyYWdDb250YWluZXIub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgICBzY3JvbGxYOiAtOCwKICAgICAgICAgICAgICAgIGRwaTogMzAwLCAvLyDlpITnkIbmqKHns4rpl67popgKICAgICAgICAgICAgICAgIHNjYWxlOiAxCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGh0bWwyY2FudmFzKGRyYWdDb250YWluZXIsb3B0cykudGhlbigoY2FudmFzKSA9PiB7CiAgICAgICAgICAgICAgICBjYW52YXMudG9CbG9iKGZ1bmN0aW9uIChibG9iT2JqKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJ0b2tlbiIsIF90aGlzLnFuLnRva2VuKTsKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBibG9iT2JqKTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kaHR0cC5wb3N0KF90aGlzLnVwVXJsLCBmb3JtRGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBuZXcgUVJDb2RlKF90aGlzLiRyZWZzLmltZ1FyQ29kZURpdiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzLmRhdGEuZmlsZV9wYXRoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE3MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTcwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JEYXJrOiAiIzAwMCIsIC8v5LqM57u056CB6aKc6ImyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvckxpZ2h0OiAiI2ZmZiIsIC8v5LqM57u056CB6IOM5pmv6ImyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0TGV2ZWw6IFFSQ29kZS5Db3JyZWN0TGV2ZWwuTC8v5a656ZSZ546H77yMTC9NL0gKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8vIOmihOiniAogICAgICAgIHByZXZpZXdDbGljaygpIHsKICAgICAgICAgICAgdmFyIGRyYWdDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZHJhZ0NvbnRhaW5lciIpOwogICAgICAgICAgICBsZXQgb3B0cyA9IHsKICAgICAgICAgICAgICAgIHVzZUNPUlM6IHRydWUsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGRyYWdDb250YWluZXIub2Zmc2V0SGVpZ2h0LCAvLyDkuIvpnaLop6PlhrPlvZPpobXpnaLmu5rliqjkuYvlkI7nlJ/miJDlm77niYflh7rnjrDnmb3ovrnpl67popgKICAgICAgICAgICAgICAgIHdpZHRoOiBkcmFnQ29udGFpbmVyLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgICAgc2Nyb2xsWDogLTgsCiAgICAgICAgICAgICAgICBkcGk6IDMwMCwgLy8g5aSE55CG5qih57OK6Zeu6aKYCiAgICAgICAgICAgICAgICBzY2FsZTogMQogICAgICAgICAgICB9OwogICAgICAgICAgICBodG1sMmNhbnZhcyhkcmFnQ29udGFpbmVyLG9wdHMpLnRoZW4oZnVuY3Rpb24oY2FudmFzKSB7CiAgICAgICAgICAgICAgICBjYW52YXMudG9CbG9iKGZ1bmN0aW9uIChibG9iT2JqKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmxvYk9iaikKICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2JPYmopKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgIH0sICAKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5VcEltZ0RhdGEoKTsKICAgIH0sCiAgICBtb3VudGVkICgpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuYmluZFFSQ29kZSgpOwogICAgICAgIH0pCiAgICB9LAogICAgY29tcG9uZW50czp7CiAgICAgICAgaGVhZGVycywKICAgICAgICBmb290ZXJzLAogICAgICAgIFZ1ZURyYWdSZXNpemUKICAgIH0KfQo="},{"version":3,"sources":["generatePicture.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"generatePicture.vue","sourceRoot":"src/views/promotionZone","sourcesContent":["<template>\r\n    <div class=\"generate_picture\">\r\n        <headers></headers>\r\n\r\n        <el-row class=\"inner\">\r\n            <el-main>\r\n                <el-page-header @back=\"$router.go(-1)\" content=\"生成图片\"></el-page-header>\r\n                \r\n                <el-row>\r\n                    <div class=\"generate_imgBox\">\r\n                        <div class=\"generate_imgInner\">\r\n                            <div id=\"dragContainer\">\r\n                                <img :src=\"imgUrl\">\r\n\r\n                                <VueDragResize :aspectRatio=\"true\" :parentLimitation=\"true\" :w=\"142\" :h=\"142\" :minw=\"100\" :minh=\"100\" v-on:resizing=\"resize\" v-show=\"showQrCode\">\r\n                                    <div id=\"qrCode\" class=\"qrcode\" ref=\"qrCodeDiv\" style=\"width: 102px;height: 102px;\" :style=\"{ background: qrCodeBgColor }\"></div>\r\n                                </VueDragResize>\r\n\r\n                                <VueDragResize :aspectRatio=\"true\" :parentLimitation=\"true\" :w=\"142\" :h=\"142\" :minw=\"100\" :minh=\"100\" v-show=\"showContactImg\">\r\n                                    <img class=\"contact_img\" :src=\"contactImg\">\r\n                                </VueDragResize>\r\n\r\n                                <VueDragResize :isResizable=\"false\" v-show=\"showWord1\" style=\"width: auto;height: auto\">\r\n                                    <pre :style=\"{ color: wordColor1, background: bgColor1 }\">{{ word1 }}</pre>\r\n                                </VueDragResize>\r\n                                \r\n                                <VueDragResize :isResizable=\"false\" v-show=\"showWord2\" style=\"width: auto;height: auto\">\r\n                                    <pre :style=\"{ color: wordColor2, background: bgColor2 }\">{{ word2 }}</pre>\r\n                                </VueDragResize>\r\n                                \r\n                                <VueDragResize :isResizable=\"false\" v-show=\"showWord3\" style=\"width: auto;height: auto\">\r\n                                    <pre :style=\"{ color: wordColor3, background: bgColor3 }\">{{ word3 }}</pre>\r\n                                </VueDragResize>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"generate_from\">\r\n                        <div class=\"generate_from_box\">\r\n                            <el-row class=\"generate_from_tab\">\r\n                                <ul>\r\n                                    <li v-for=\"(item,index) in tabs\" :class=\"{ bor_active: tabNum == index}\" @click=\"tabNum = index\">{{ item }}</li>\r\n                                </ul>\r\n                            </el-row>\r\n\r\n                            <el-row class=\"generate_from_bot\" v-show=\"tabNum == 0\">\r\n                                <p>二维码颜色</p>\r\n                                <el-color-picker v-model=\"qrCodeColor\" @active-change=\"qrCodeColorActive\"></el-color-picker>\r\n                                <p>二维码背景</p>\r\n                                <el-color-picker v-model=\"qrCodeBgColor\" @active-change=\"qrCodeBgColorActive\"></el-color-picker>\r\n                                <p>二维码颜色</p>\r\n                                <el-input\r\n                                    type=\"textarea\"\r\n                                    :rows=\"2\"\r\n                                    placeholder=\"请输入内容\"\r\n                                    v-model=\"qrCodeLink\"\r\n                                    @input=\"qrCodeLinkInput\">\r\n                                </el-input>\r\n                                <el-checkbox v-model=\"showQrCode\">二维码预览</el-checkbox>\r\n                            </el-row>\r\n\r\n                            <el-row class=\"generate_from_bot\" v-show=\"tabNum == 1\">\r\n                                <p>联系方式</p>\r\n                                <el-upload\r\n                                    class=\"upload-demo\"\r\n                                    :action=\"upUrl\"\r\n                                    :data=\"qn\"\r\n                                    :on-change=\"handleChange\"\r\n                                    :on-success=\"handleSuccess\"\r\n                                    :onError=\"handleError\"\r\n                                    :on-remove=\"handleRemove\"\r\n                                    :before-upload=\"beforeAvatarUpload\">\r\n                                    <el-button size=\"small\" class=\"btn_bor_primary\" round plain v-show=\"showUploadBtn\">上传图片</el-button>\r\n                                </el-upload>\r\n                            </el-row>\r\n\r\n                            <el-row class=\"generate_from_bot generate_from_three\" v-show=\"tabNum == 2\">\r\n                                <p>文字1</p>\r\n                                <textarea \r\n                                    placeholder=\"请输入内容\" \r\n                                    cols=\"30\" \r\n                                    rows=\"10\"\r\n                                    v-model=\"word1\"\r\n                                    :style=\"{ color: wordColor1, background: bgColor1 }\"></textarea>\r\n                                <p>颜色</p>\r\n                                <el-color-picker v-model=\"wordColor1\" @active-change=\"wordColorActive1\"></el-color-picker>\r\n                                <p>背景</p>\r\n                                <el-color-picker v-model=\"bgColor1\" @active-change=\"bgColorActive1\"></el-color-picker>\r\n                                <el-checkbox v-model=\"showWord1\" class=\"fix\" style=\"margin-bottom: 24px;\">文字预览</el-checkbox>\r\n\r\n                                <el-row class=\"divider-dashed\"></el-row>\r\n\r\n                                <p>文字2</p>\r\n                                <textarea \r\n                                    placeholder=\"请输入内容\" \r\n                                    cols=\"30\" \r\n                                    rows=\"10\"\r\n                                    v-model=\"word2\"\r\n                                    :style=\"{ color: wordColor2, background: bgColor2 }\"></textarea>\r\n                                <p>颜色</p>\r\n                                <el-color-picker v-model=\"wordColor2\" @active-change=\"wordColorActive2\"></el-color-picker>\r\n                                <p>背景</p>\r\n                                <el-color-picker v-model=\"bgColor2\" @active-change=\"bgColorActive2\"></el-color-picker>\r\n                                <el-checkbox v-model=\"showWord2\" class=\"fix\" style=\"margin-bottom: 24px;\">文字预览</el-checkbox>\r\n\r\n                                <el-row class=\"divider-dashed\"></el-row>\r\n\r\n                                <p>文字3</p>\r\n                                <textarea \r\n                                    placeholder=\"请输入内容\" \r\n                                    cols=\"30\" \r\n                                    rows=\"10\"\r\n                                    v-model=\"word3\"\r\n                                    :style=\"{ color: wordColor3, background: bgColor3 }\"></textarea>\r\n                                <p>颜色</p>\r\n                                <el-color-picker v-model=\"wordColor3\" @active-change=\"wordColorActive3\"></el-color-picker>\r\n                                <p>背景</p>\r\n                                <el-color-picker v-model=\"bgColor3\" @active-change=\"bgColorActive3\"></el-color-picker>\r\n                                <el-checkbox v-model=\"showWord3\" class=\"fix\" style=\"margin-bottom: 24px;\">文字预览</el-checkbox>\r\n                            </el-row>\r\n                        </div>\r\n\r\n                        <div class=\"generate_from_btn\">\r\n                            <el-button class=\"btn_bor_primary\" round plain @click=\"saveLocalClick\">保存本地</el-button>\r\n                            <el-popover\r\n                                placement=\"top\"\r\n                                width=\"200\"\r\n                                trigger=\"click\">\r\n                                <div class=\"popover-content\" style=\"height: 170px\">\r\n                                    <div id=\"qrCode\" class=\"qrcode\" ref=\"imgQrCodeDiv\" style=\"width: 170px;height: 170px;margin: 0 auto\"></div>\r\n                                </div>\r\n                                <el-button slot=\"reference\" class=\"btn_bor_primary\" round plain @click=\"mobileViewClick\">手机查看</el-button>\r\n                            </el-popover>\r\n                            <el-button class=\"btn_bor_primary\" round plain @click=\"previewClick\">预览</el-button>\r\n                        </div>\r\n                    </div>\r\n                </el-row>\r\n            </el-main>\r\n        </el-row>\r\n\r\n        <footers></footers>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import headers from '../../components/header.vue'\r\n    import footers from '../../components/footer.vue'\r\n\r\n    import QRCode from 'qrcodejs2';\r\n    import VueDragResize from \"vue-drag-resize\";\r\n    import html2canvas from \"html2canvas\";\r\n    import { base64StringToBlob } from 'blob-util'\r\n\r\n    import { UpImgApi } from '../../http/api.js'\r\n    export default {\r\n        data() {\r\n            return {\r\n                imgUrl: localStorage.getItem('selectedBgImg'),\r\n                tabs: ['二维码', '联系方式', '文字信息'],\r\n                tabNum: 0,\r\n                // 二维码\r\n                qrCodeColor: \"#000\",\r\n                qrCodeBgColor: \"#fff\",\r\n                qrCodeLink: \"https://www.baidu.com\",\r\n                showQrCode: false,\r\n                canvasWidth: 92,\r\n                canvasHeight: 92,\r\n                // 上传按钮\r\n                showUploadBtn: true,\r\n                // 上传初始化\r\n                qn:{\r\n                    token: \"\"\r\n                },\r\n                upUrl: \"\",\r\n                // 上传成功后IMG\r\n                showContactImg: false,\r\n                contactImg: \"\",\r\n                // 文字1\r\n                word1:\"\",\r\n                wordColor1: \"red\",\r\n                bgColor1: \"#fff\",\r\n                showWord1: false,\r\n                // 文字2\r\n                word2:\"\",\r\n                wordColor2: \"red\",\r\n                bgColor2: \"#fff\",\r\n                showWord2: false,\r\n                // 文字3\r\n                word3:\"\",\r\n                wordColor3: \"red\",\r\n                bgColor3: \"#fff\",\r\n                showWord3: false,\r\n            }\r\n        },\r\n        methods: {\r\n            // 上传初始化获取上传接口地址和token\r\n            UpImgData () {\r\n                var _this = this;\r\n                UpImgApi().then(res => {\r\n                    _this.upUrl = res.data.message.upUrl;\r\n                    _this.qn.token = res.data.message.Token\r\n                }).catch(err => {\r\n\r\n                })\r\n            },\r\n            // 初始化\r\n            bindQRCode: function () {\r\n                new QRCode(this.$refs.qrCodeDiv, {\r\n                    text: this.qrCodeLink,\r\n                    width: 92,\r\n                    height: 92,\r\n                    colorDark: this.qrCodeColor, //二维码颜色\r\n                    colorLight: \"#ff000000\", //二维码背景色\r\n                    correctLevel: QRCode.CorrectLevel.L//容错率，L/M/H\r\n                })\r\n            },\r\n            // 缩放时事件\r\n            resize(newRect) {\r\n                document.getElementsByClassName('qrcode')[0].style.width = (newRect.width - 40) + \"px\";\r\n                document.getElementsByClassName('qrcode')[0].style.height = (newRect.height - 40) + \"px\";\r\n                document.getElementsByTagName('canvas')[0].style.width = (newRect.width - 50) + \"px\";\r\n                document.getElementsByTagName('canvas')[0].style.height = (newRect.height - 50) + \"px\";\r\n                this.canvasWidth = (newRect.width - 50);\r\n                this.canvasHeight = (newRect.height - 50);\r\n            },\r\n            // 二维码链接输入事件\r\n            qrCodeLinkInput () {\r\n                this.$refs.qrCodeDiv.innerHTML = '';\r\n                new QRCode(this.$refs.qrCodeDiv, {\r\n                    text: this.qrCodeLink,\r\n                    width: this.canvasWidth,\r\n                    height: this.canvasHeight,\r\n                    colorDark: this.qrCodeColor, //二维码颜色\r\n                    colorLight: \"#ff000000\", //二维码背景色\r\n                    correctLevel: QRCode.CorrectLevel.L//容错率，L/M/H\r\n                })\r\n            },\r\n            // 二维码颜色面板中当前显示的颜色发生改变时触发\r\n            qrCodeColorActive (val) {\r\n                this.$refs.qrCodeDiv.innerHTML = '';\r\n                new QRCode(this.$refs.qrCodeDiv, {\r\n                    text: this.qrCodeLink,\r\n                    width: this.canvasWidth,\r\n                    height: this.canvasHeight,\r\n                    colorDark: val, //二维码颜色\r\n                    colorLight: \"#ff000000\", //二维码背景色\r\n                    correctLevel: QRCode.CorrectLevel.L//容错率，L/M/H\r\n                })\r\n            },\r\n            // 二维码背景面板中当前显示的颜色发生改变时触发\r\n            qrCodeBgColorActive (val) {\r\n                this.qrCodeBgColor = val\r\n            },\r\n            // 上传触发change\r\n            handleChange(file, fileList) {\r\n                this.showUploadBtn = false\r\n            },\r\n            // 上传成功\r\n            handleSuccess(res, file) {\r\n                this.showContactImg = true;\r\n                this.contactImg = res.file_path\r\n            },\r\n            // 上传报错\r\n            handleError() {\r\n                console.log(\"error\")\r\n                this.showUploadBtn = true\r\n            },\r\n            // 删除图片\r\n            handleRemove() {\r\n                this.showUploadBtn = true;\r\n                this.contactImg = \"\"\r\n            },\r\n            // 上传图片限制格式和大小\r\n            beforeAvatarUpload(file) {\r\n                const isJPG = file.type === 'image/jpeg';\r\n                const isPNG = file.type === 'image/png'\r\n                const isLt15M = file.size / 1024 / 1024 < 200;\r\n\r\n                if (!isJPG && !isPNG) {\r\n                    this.$message.error('上传头像图片只能是 JPG 和 PNG 格式!');\r\n                }\r\n                if (!isLt15M) {\r\n                    this.$message.error('上传图片大小不能超过 200KB!');\r\n                }\r\n                return isJPG || isPNG && isLt15M;\r\n            },\r\n            // 文字颜色面板中当前显示的颜色发生改变时触发\r\n            wordColorActive1 (val) {\r\n                this.wordColor1 = val\r\n            },\r\n            bgColorActive1 (val) {\r\n                this.bgColor1 = val\r\n            },\r\n            wordColorActive2 (val) {\r\n                this.wordColor2 = val\r\n            },\r\n            bgColorActive2 (val) {\r\n                this.bgColor2 = val\r\n            },\r\n            wordColorActive3 (val) {\r\n                this.wordColor3 = val\r\n            },\r\n            bgColorActive3 (val) {\r\n                this.bgColor3 = val\r\n            },\r\n            // 保存图片\r\n            saveLocalClick(){\r\n                var dragContainer = document.getElementById(\"dragContainer\");\r\n                let opts = {\r\n                    useCORS: true,\r\n                    height: dragContainer.offsetHeight, // 下面解决当页面滚动之后生成图片出现白边问题\r\n                    width: dragContainer.offsetWidth,\r\n                    scrollX: -8,\r\n                    dpi: 300, // 处理模糊问题\r\n                    scale: 1\r\n                };\r\n                html2canvas(dragContainer,opts).then((canvas) => {\r\n                    var url = canvas.toDataURL('image/png');    \r\n                    var a = document.createElement(\"a\");\r\n                    a.href = url;\r\n                    a.download = \"推广素材\";\r\n                    document.body.appendChild(a);\r\n                    a.click();\r\n                    document.body.removeChild(a);\r\n                });\r\n            },\r\n            // 手机查看\r\n            mobileViewClick () {\r\n                var _this = this;\r\n                this.$refs.imgQrCodeDiv.innerHTML = '';\r\n                var dragContainer = document.getElementById(\"dragContainer\");\r\n                let opts = {\r\n                    useCORS: true,\r\n                    height: dragContainer.offsetHeight, // 下面解决当页面滚动之后生成图片出现白边问题\r\n                    width: dragContainer.offsetWidth,\r\n                    scrollX: -8,\r\n                    dpi: 300, // 处理模糊问题\r\n                    scale: 1\r\n                };\r\n                html2canvas(dragContainer,opts).then((canvas) => {\r\n                    canvas.toBlob(function (blobObj) {\r\n                        var formData = new FormData();\r\n                        formData.append(\"token\", _this.qn.token);\r\n                        formData.append(\"file\", blobObj);\r\n                        _this.$http.post(_this.upUrl, formData).then(res => {\r\n                            new QRCode(_this.$refs.imgQrCodeDiv, {\r\n                                text: res.data.file_path,\r\n                                width: 170,\r\n                                height: 170,\r\n                                colorDark: \"#000\", //二维码颜色\r\n                                colorLight: \"#fff\", //二维码背景色\r\n                                correctLevel: QRCode.CorrectLevel.L//容错率，L/M/H\r\n                            })\r\n                        }).catch(err => {\r\n                        })\r\n                    })\r\n                });\r\n            },\r\n            // 预览\r\n            previewClick() {\r\n                var dragContainer = document.getElementById(\"dragContainer\");\r\n                let opts = {\r\n                    useCORS: true,\r\n                    height: dragContainer.offsetHeight, // 下面解决当页面滚动之后生成图片出现白边问题\r\n                    width: dragContainer.offsetWidth,\r\n                    scrollX: -8,\r\n                    dpi: 300, // 处理模糊问题\r\n                    scale: 1\r\n                };\r\n                html2canvas(dragContainer,opts).then(function(canvas) {\r\n                    canvas.toBlob(function (blobObj) {\r\n                        console.log(blobObj)\r\n                        window.open(URL.createObjectURL(blobObj))\r\n                    })\r\n                });\r\n            },\r\n        },  \r\n        created() {\r\n            this.UpImgData();\r\n        },\r\n        mounted () {\r\n            this.$nextTick(function () {\r\n                this.bindQRCode();\r\n            })\r\n        },\r\n        components:{\r\n            headers,\r\n            footers,\r\n            VueDragResize\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    @import '../../assets/css/promotionZone.css';\r\n</style>"]}]}