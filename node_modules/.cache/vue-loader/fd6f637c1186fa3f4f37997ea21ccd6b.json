{"remainingRequest":"P:\\bm_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!P:\\bm_admin\\src\\views\\management\\makeCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"P:\\bm_admin\\src\\views\\management\\makeCode.vue","mtime":1604038652000},{"path":"P:\\bm_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"P:\\bm_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"P:\\bm_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"P:\\bm_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFnZW50U3Vib3JkaW5hdGVNYWtlQ29kb0FwaSwgYWdlbnRTdWJvcmRpbmF0ZUFkZEFwaSB9IGZyb20gJy4uLy4uL2h0dHAvYXBpJwpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogWydzaG93TWFrZUNvZGUnXSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3dMb2FkaW5nOiB0cnVlLAogICAgICAgICAgICBhZGREYXRhOnsKICAgICAgICAgICAgICAgIGNvZGU6ICJsb2FkaW5nLi4iLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgICAgICAgICAgcmVhbG5hbWU6ICIiLAogICAgICAgICAgICAgICAgbW9iaWxlOiAiIiwKICAgICAgICAgICAgICAgIHFxOiAiIiwKICAgICAgICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICAgICAgICAgIHJlbWFyazogIiIsCiAgICAgICAgICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgICAgICAgICBvdGhlcmM6ICIiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFkZFJ1bGVzOiB7CiAgICAgICAgICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgICAgICAgICAgICB7IG1pbjogNiwgbWF4OiAyMCwgbWVzc2FnZTogJ+ivt+i+k+WFpTYtMjDkvY3lr4bnoIEnLCB0cmlnZ2VyOiAnYmx1cid9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgcmVhbG5hbWU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5aeT5ZCNJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgbW9iaWxlOiBbCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPtycsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbWluOiAxMSwgbWF4OiAxMSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaJi+acuuWPt+ehruiupOagvOW8jycsIHRyaWdnZXI6ICdibHVyJ30KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIH0sCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhZGRNYWtlQ29kZURhdGEgKCkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICBhZ2VudFN1Ym9yZGluYXRlTWFrZUNvZG9BcGkoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMuYWRkRGF0YS5jb2RlID0gcmVzLmRhdGEubWVzc2FnZS5jb2RlCiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYWRkU3VibWl0IChmb3JtTmFtZSkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3dMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBhZ2VudFN1Ym9yZGluYXRlQWRkQXBpKF90aGlzLmFkZERhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ2hhbmRsZU1ha2VDb2RlJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnYWdlbnRTdWJvcmRpbmF0ZURhdGEnKQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaGlkZURpYWxvZyhmb3JtTmFtZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdoYW5kbGVNYWtlQ29kZScsIGZhbHNlKTsKICAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmFkZE1ha2VDb2RlRGF0YSgpCiAgICB9LAp9Cg=="},{"version":3,"sources":["makeCode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"makeCode.vue","sourceRoot":"src/views/management","sourcesContent":["<template>\r\n    <div>\r\n        <el-dialog\r\n            title=\"创建三级代理\"\r\n            :visible.sync=\"showMakeCode\"\r\n            :close-on-click-modal=false\r\n            :show-close=false\r\n            width=\"40%\">\r\n            <div>\r\n                <el-form ref=\"addForm\" :model=\"addData\" :rules=\"addRules\" label-width=\"100px\">\r\n                    <el-form-item label=\"代理账号\">\r\n                        <el-input v-model=\"addData.code\" disabled></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" prop=\"password\">\r\n                        <el-input type=\"password\" placeholder=\"输入密码\" v-model=\"addData.password\" maxlength=\"20\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"姓名\" prop=\"realname\">\r\n                        <el-input placeholder=\"请输入姓名\" v-model=\"addData.realname\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"手机号\" prop=\"mobile\">\r\n                        <el-input placeholder=\"请输入手机号\" v-model=\"addData.mobile\" maxlength=\"11\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"QQ\">\r\n                        <el-input placeholder=\"请输入QQ\" v-model=\"addData.qq\" maxlength=\"10\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"邮箱\">\r\n                        <el-input placeholder=\"请输入邮箱\" v-model=\"addData.email\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"备注\">\r\n                        <el-input type=\"textarea\" v-model=\"addData.remark\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"其他联系方式\">\r\n                        <el-input placeholder=\"请输入其他联系方式\" v-model=\"addData.otherc\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"hideDialog('addForm')\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addSubmit('addForm')\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { agentSubordinateMakeCodoApi, agentSubordinateAddApi } from '../../http/api'\r\n    export default {\r\n        props: ['showMakeCode'],\r\n        data () {\r\n            return {\r\n                showLoading: true,\r\n                addData:{\r\n                    code: \"loading..\",\r\n                    password: \"\",\r\n                    realname: \"\",\r\n                    mobile: \"\",\r\n                    qq: \"\",\r\n                    email: \"\",\r\n                    remark: \"\",\r\n                    status: 1,\r\n                    otherc: \"\"\r\n                },\r\n                addRules: {\r\n                    password: [\r\n                        { required: true, message: '请输入密码', trigger: 'blur' },\r\n                        { min: 6, max: 20, message: '请输入6-20位密码', trigger: 'blur'}\r\n                    ],\r\n                    realname: [\r\n                        { required: true, message: '请输入姓名', trigger: 'blur' },\r\n                    ],\r\n                    mobile: [\r\n                        { required: true, message: '请输入手机号', trigger: 'blur' },\r\n                        { min: 11, max: 11, message: '请输入手机号确认格式', trigger: 'blur'}\r\n                    ],\r\n                },\r\n            }\r\n        },\r\n        methods: {\r\n            addMakeCodeData () {\r\n                var _this = this;\r\n                agentSubordinateMakeCodoApi().then(res => {\r\n                    _this.showLoading = false;\r\n                    _this.addData.code = res.data.message.code\r\n                }).catch(err => {\r\n                    _this.showLoading = false;\r\n                })\r\n            },\r\n            addSubmit (formName) {\r\n                var _this = this;\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        _this.showLoading = true;\r\n                        agentSubordinateAddApi(_this.addData).then(res => {\r\n                            _this.showLoading = false;\r\n                            _this.$emit('handleMakeCode', false);\r\n                            _this.$message.success(res.data.message);\r\n                            _this.$emit('agentSubordinateData')\r\n                            _this.$refs[formName].resetFields();\r\n                        }).catch(err => {\r\n                            _this.showLoading = false;\r\n                            _this.$message.error(err.message)\r\n                        })\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n            hideDialog(formName) {\r\n                this.$emit('handleMakeCode', false);\r\n                this.$refs[formName].resetFields();\r\n            }\r\n        },\r\n        mounted() {\r\n            this.addMakeCodeData()\r\n        },\r\n    }\r\n</script>"]}]}