{"remainingRequest":"D:\\vue3\\bf_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue3\\bf_admin\\src\\views\\finance\\agentDepBon.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue3\\bf_admin\\src\\views\\finance\\agentDepBon.vue","mtime":1599833929442},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhZ2VudFJlY29yZCBmcm9tICcuL2FnZW50UmVjb3JkLnZ1ZScKCmltcG9ydCB7IGFnZW50RGVwb3NpdEFwaSwgIGFnZW50Qm9udXNBcGkgfSBmcm9tICcuLi8uLi9odHRwL2FwaScKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgdGl0bGU6ICIiLAogICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgLy8gdGFiCiAgICAgICAgICAgIGFjdGl2ZU5hbWU6ICdmaXJzdCcsCiAgICAgICAgICAgIC8vIOWtmOasvumAieaLqemHkeminQogICAgICAgICAgICBtb25leVRhYjogWycxOCcsJzUwJywnMTAwJywnMjAwJywnNTAwJ10sCiAgICAgICAgICAgIG51bTogLTEsCiAgICAgICAgICAgIC8vIOS7o+WtmOS9meminQogICAgICAgICAgICBtb25leTogMCwKICAgICAgICAgICAgLy8g5o+Q5Lqk5pWw5o2uCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIG1lbWJlcl9uYW1lOiAiIiwKICAgICAgICAgICAgICAgIGFtb3VudDogIiIsCiAgICAgICAgICAgICAgICByZW1hcms6ICIiLAogICAgICAgICAgICAgICAgcGF5cGFzc3dvcmQ6ICIiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIHRhYgogICAgICAgIGhhbmRsZUNsaWNrKHRhYiwgZXZlbnQpIHsKICAgICAgICB9LAogICAgICAgIC8vIOWtmOasvumHkeminS3pgInmi6nph5Hpop0KICAgICAgICBtb25leVRhYkNsaWNrKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIHRoaXMubnVtID0gaW5kZXg7CiAgICAgICAgICAgIHRoaXMuZGF0YS5hbW91bnQgPSBpdGVtCiAgICAgICAgfSwKICAgICAgICBtb25leUtleXVwKCkgewogICAgICAgICAgICB0aGlzLm51bSA9IC0xCiAgICAgICAgfSwKICAgICAgICAvLyDmj5DkuqQKICAgICAgICBzdWJtaXQgKCkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICBpZih0aGlzLmRhdGEubWVtYmVyX25hbWUgPT0gJycpewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuS8muWRmOi0puWPt+S4jeiDveS4uuepuiIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmRhdGEuYW1vdW50ID09ICcnKXsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLlrZjmrL7ph5Hpop3kuI3og73kuLrnqboiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5kYXRhLnBheXBhc3N3b3JkID09ICIiKXsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmlK/ku5jlr4bnoIHkuI3og73kuLrnqboiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYodGhpcy5uYW1lID09ICfku6PlrZgnKXsKICAgICAgICAgICAgICAgICAgICBhZ2VudERlcG9zaXRBcGkoX3RoaXMuZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXJGdW5kJykKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0aGlzLm5hbWUgPT0gJ+W9qemHkScpewogICAgICAgICAgICAgICAgICAgIGFnZW50Qm9udXNBcGkoX3RoaXMuZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXJGdW5kJykKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBpZih0aGlzLiRyb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnBhdGggPT0gJy9hZ2VudEJvbnVzJyl7CiAgICAgICAgICAgIHRoaXMudGl0bGUgPSAi5b2p6YeR6LWg6YCBIjsKICAgICAgICAgICAgdGhpcy5uYW1lID0gIuW9qemHkSI7CiAgICAgICAgICAgIHZhciBtb25leSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbW9uZXknKQogICAgICAgICAgICB0aGlzLm1vbmV5ID0gSlNPTi5wYXJzZShtb25leSkudG9GaXhlZCgyKQogICAgICAgIH1lbHNlewogICAgICAgICAgICB0aGlzLnRpdGxlID0gIuS8muWRmOS7o+WtmCI7CiAgICAgICAgICAgIHRoaXMubmFtZSA9ICLku6PlrZgiOwogICAgICAgICAgICB2YXIgbW9uZXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbW9uZXknKQogICAgICAgICAgICB0aGlzLm1vbmV5ID0gSlNPTi5wYXJzZShtb25leSkudG9GaXhlZCgyKQogICAgICAgIH07CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAkcm91dGUodG8sIGZyb20pewogICAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSAiZmlyc3QiOwogICAgICAgICAgICBpZih0by5mdWxsUGF0aCA9PSAnL2FnZW50Qm9udXMnKXsKICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSAi5b2p56Wo6LWg6YCBIjsKICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9ICLlvanph5EiOwogICAgICAgICAgICAgICAgdmFyIG1vbmV5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Ntb25leScpCiAgICAgICAgICAgICAgICB0aGlzLm1vbmV5ID0gSlNPTi5wYXJzZShtb25leSkudG9GaXhlZCgyKQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMudGl0bGUgPSAi5Lya5ZGY5Luj5a2YIjsKICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9ICLku6PlrZgiOwogICAgICAgICAgICAgICAgdmFyIG1vbmV5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21vbmV5JykKICAgICAgICAgICAgICAgIHRoaXMubW9uZXkgPSBKU09OLnBhcnNlKG1vbmV5KS50b0ZpeGVkKDIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czp7CiAgICAgICAgYWdlbnRSZWNvcmQKICAgIH0KfQo="},{"version":3,"sources":["agentDepBon.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"agentDepBon.vue","sourceRoot":"src/views/finance","sourcesContent":["<template>\r\n    <div class=\"agent_deposit\" v-loading.fullscreen.lock=\"loading\">\r\n        <h3 class=\"title\">{{ title }}</h3>\r\n\r\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n            <el-tab-pane :label=\"name\" name=\"first\" class=\"agent_deposit_form\">\r\n                <el-row>\r\n                    <h5>付款账户</h5>\r\n                    <div class=\"payment_account\">\r\n                        <p class=\"primary-color\">{{ name }}钱包</p>\r\n                        <h2 class=\"primary-color\">{{ money }}</h2>\r\n                    </div>\r\n                </el-row>\r\n\r\n                <el-row>\r\n                    <h5>会员账号</h5>\r\n                    <el-input placeholder=\"请输入会员账号\" v-model=\"data.member_name\"></el-input>\r\n                </el-row>\r\n\r\n                <el-row>\r\n                    <h5>存款金额</h5>\r\n                    <ul class=\"money\">\r\n                        <li v-for=\"(item, index) in moneyTab\" :key=\"index\" :class=\"{ 'bor_active': num == index }\" @click=\"moneyTabClick(item,index)\">\r\n                            ￥{{ item }}\r\n                        </li>\r\n                    </ul>\r\n                    <el-input v-model=\"data.amount\" placeholder=\"请输入存款金额\" @keyup.native=\"moneyKeyup()\"></el-input>\r\n                </el-row>\r\n\r\n                <el-row>\r\n                    <h5>备注</h5>\r\n                    <el-input placeholder=\"20个字\" v-model=\"data.remark\"></el-input>\r\n                </el-row>\r\n\r\n                <el-row>\r\n                    <h5>支付密码</h5>\r\n                    <el-input placeholder=\"请输入支付密码\" type=\"password\" v-model=\"data.paypassword\"></el-input>\r\n                    <span class=\"primary-color\" style=\"margin-left: 10px;cursor: pointer;\">忘记密码？</span>\r\n                </el-row>\r\n\r\n                <el-row>\r\n                    <el-button class=\"primary-button\" round @click=\"submit\">确认{{ name }}</el-button>\r\n                </el-row>\r\n            </el-tab-pane>\r\n            <el-tab-pane :label=\"name + '记录'\" name=\"second\">\r\n                <agentRecord :type=\"name\"></agentRecord>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import agentRecord from './agentRecord.vue'\r\n\r\n    import { agentDepositApi,  agentBonusApi } from '../../http/api'\r\n    export default {\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                title: \"\",\r\n                name: \"\",\r\n                // tab\r\n                activeName: 'first',\r\n                // 存款选择金额\r\n                moneyTab: ['18','50','100','200','500'],\r\n                num: -1,\r\n                // 代存余额\r\n                money: 0,\r\n                // 提交数据\r\n                data: {\r\n                    member_name: \"\",\r\n                    amount: \"\",\r\n                    remark: \"\",\r\n                    paypassword: \"\"\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            // tab\r\n            handleClick(tab, event) {\r\n            },\r\n            // 存款金额-选择金额\r\n            moneyTabClick(item, index) {\r\n                this.num = index;\r\n                this.data.amount = item\r\n            },\r\n            moneyKeyup() {\r\n                this.num = -1\r\n            },\r\n            // 提交\r\n            submit () {\r\n                var _this = this;\r\n                if(this.data.member_name == ''){\r\n                    this.$message({\r\n                        message: \"会员账号不能为空\",\r\n                        type: \"warning\"\r\n                    })\r\n                }else if(this.data.amount == ''){\r\n                    this.$message({\r\n                        message: \"存款金额不能为空\",\r\n                        type: \"warning\"\r\n                    })\r\n                }else if(this.data.paypassword == \"\"){\r\n                    this.$message({\r\n                        message: \"支付密码不能为空\",\r\n                        type: \"warning\"\r\n                    })\r\n                }else{\r\n                    this.loading = true;\r\n                    if(this.name == '代存'){\r\n                        agentDepositApi(_this.data).then(res => {\r\n                            _this.loading = false;\r\n                            _this.$message.success(res.data.message);\r\n                            _this.$router.push('/userFund')\r\n                        }).catch(err => {\r\n                            _this.loading = false;\r\n                            _this.$message.error(err.message)\r\n                        })\r\n                    }\r\n                    if(this.name == '彩金'){\r\n                        agentBonusApi(_this.data).then(res => {\r\n                            _this.loading = false;\r\n                            _this.$message.success(res.data.message);\r\n                            _this.$router.push('/userFund')\r\n                        }).catch(err => {\r\n                            _this.loading = false;\r\n                            _this.$message.error(err.message)\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        mounted() {\r\n            if(this.$router.history.current.path == '/agentBonus'){\r\n                this.title = \"彩金赠送\";\r\n                this.name = \"彩金\";\r\n                var money = localStorage.getItem('cmoney')\r\n                this.money = JSON.parse(money).toFixed(2)\r\n            }else{\r\n                this.title = \"会员代存\";\r\n                this.name = \"代存\";\r\n                var money = localStorage.getItem('money')\r\n                this.money = JSON.parse(money).toFixed(2)\r\n            };\r\n        },\r\n        watch: {\r\n            $route(to, from){\r\n                this.activeName = \"first\";\r\n                if(to.fullPath == '/agentBonus'){\r\n                    this.title = \"彩票赠送\";\r\n                    this.name = \"彩金\";\r\n                    var money = localStorage.getItem('cmoney')\r\n                    this.money = JSON.parse(money).toFixed(2)\r\n                }else{\r\n                    this.title = \"会员代存\";\r\n                    this.name = \"代存\";\r\n                    var money = localStorage.getItem('money')\r\n                    this.money = JSON.parse(money).toFixed(2)\r\n                }\r\n            }\r\n        },\r\n        components:{\r\n            agentRecord\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    @import url(../../assets/css/finance.css);\r\n</style>"]}]}