{"remainingRequest":"D:\\vue3\\bf_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue3\\bf_admin\\src\\views\\finance\\safetyVerification.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue3\\bf_admin\\src\\views\\finance\\safetyVerification.vue","mtime":1599019899894},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue3\\bf_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgYmFua0FyciBmcm9tICcuLi8uLi9hc3NldHMvanMvYmFua0Fyci5qcycKICAgIGltcG9ydCBhcnJBbGwgZnJvbSAnLi4vLi4vLi4vcHVibGljL2pzL2NpdHkuanMnCiAgICBpbXBvcnQgeyBCYW5rQ2FyZExpc3RBcGksIEFkZEJhbmtDYXJkQXBpLCBEZWxCYW5rQ2FyZEFwaSwgU2VuZFNtc0FwaSwgY2hlY2tDb2RlQXBpLCB3aXRoRHJhd0FwaSB9IGZyb20gJy4uLy4uL2h0dHAvYXBpLmpzJwogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIGRhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBmdWxsc2NyZWVuTG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICB0YWJsZURhdGE6IFtdLAogICAgICAgICAgICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICBjb2RlVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICBiYW5rTGlzdDogYmFua0FyciwKICAgICAgICAgICAgICAgIGJhbmtUeXBlOiAiIiwKICAgICAgICAgICAgICAgIC8vIOWfjuW4ggogICAgICAgICAgICAgICAgYXJyOiBbXSwKICAgICAgICAgICAgICAgIGNpdHlBcnI6IFtdLAogICAgICAgICAgICAgICAgZGlzdHJpY3RBcnI6IFtdLAogICAgICAgICAgICAgICAgcHJvdmluY2U6ICIiLAogICAgICAgICAgICAgICAgY2l0eTogIiIsCiAgICAgICAgICAgICAgICBkaXN0cmljdDogIiIsCiAgICAgICAgICAgICAgICAvLyDpk7booYzljaF0YWIKICAgICAgICAgICAgICAgIGJhbmtUYWJOdW06IC0xLAogICAgICAgICAgICAgICAgLy8g6ZO26KGM5Y2h6KGo5Y2VCiAgICAgICAgICAgICAgICBiYW5rRm9ybTogewogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6ICIiLAogICAgICAgICAgICAgICAgICAgIGJhbmtfbmFtZTogIiIsCiAgICAgICAgICAgICAgICAgICAgY2FyZF9udW1iZXI6ICIiLAogICAgICAgICAgICAgICAgICAgIGNhcmRfYWRkcmVzczogewogICAgICAgICAgICAgICAgICAgICAgICBwcm92aW5jZTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogIiIsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIC8vIOmTtuihjOWNoeWIl+ihqAogICAgICAgICAgICAgICAgYmFua0NhcmRMaXN0OiBbXSwKICAgICAgICAgICAgICAgIC8vIOiOt+WPlumTtuihjOWNoeeahOe0ouW8lQogICAgICAgICAgICAgICAgaTogLTEsCiAgICAgICAgICAgICAgICAvLyDpk7booYzooajmoLwKICAgICAgICAgICAgICAgIGJhbmtUYWJsZTogW10sCiAgICAgICAgICAgICAgICAvLyDmj5DmrL7ph5Hpop0KICAgICAgICAgICAgICAgIHdpdGhkcmF3TW9uZXk6IDAsCiAgICAgICAgICAgICAgICAvLyDlt67pop0KICAgICAgICAgICAgICAgIGRpZmZlcmVuY2U6IDAsCiAgICAgICAgICAgICAgICBrZXl1cE51bTogMCwKICAgICAgICAgICAgICAgIHByZV9kaWZmZXJlbmNlOiAwLAogICAgICAgICAgICAgICAgLy8g5pSv5LuY5a+G56CBCiAgICAgICAgICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgICAgICAgICAvLyDpqozor4HnoIEKICAgICAgICAgICAgICAgIGNvZGVUZXh0OiAi6I635Y+W6aqM6K+B56CBIiwKICAgICAgICAgICAgICAgIGNvZGVTZXQ6IG51bGwsCiAgICAgICAgICAgICAgICBrZXk6ICIiLAogICAgICAgICAgICAgICAgY29kZTogIiIsCiAgICAgICAgICAgICAgICAvLyDmiYvmnLrlj7cKICAgICAgICAgICAgICAgIG1vYmlsZTogIiIKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICAvLyDovpPlhaXph5Hpop3ojrflj5bkuovku7YKICAgICAgICAgICAgbW9uZXlGb2N1cyAoaW5kZXgpIHsKICAgICAgICAgICAgICAgIHRoaXMua2V5dXBOdW0gPSB0aGlzLmJhbmtUYWJsZVtpbmRleF0ubW9uZXkgPT0gJycgPyAwIDogcGFyc2VGbG9hdCh0aGlzLmJhbmtUYWJsZVtpbmRleF0ubW9uZXkpOwoKICAgICAgICAgICAgICAgIHZhciBzdW1Nb25leSA9IDA7CiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5iYW5rVGFibGUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBzdW1Nb25leSArPSB0aGlzLmJhbmtUYWJsZVtpXS5tb25leSA9PSAnJyA/IDAgOiBwYXJzZUZsb2F0KHRoaXMuYmFua1RhYmxlW2ldLm1vbmV5KQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJlX2RpZmZlcmVuY2UgPSBwYXJzZUludCh0aGlzLndpdGhkcmF3TW9uZXkpIC0gc3VtTW9uZXkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g6L6T5YWl6YeR6aKd5LqL5Lu2CiAgICAgICAgICAgIG1vbmV5S2V5dXAgKGV2ZW50LGluZGV4KSB7CiAgICAgICAgICAgICAgICB2YXIgc3VtTW9uZXkgPSAwOwogICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuYmFua1RhYmxlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgc3VtTW9uZXkgKz0gdGhpcy5iYW5rVGFibGVbaV0ubW9uZXkgPT0gJycgPyAwIDogcGFyc2VGbG9hdCh0aGlzLmJhbmtUYWJsZVtpXS5tb25leSkKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpZmZlcmVuY2UgPSAocGFyc2VGbG9hdCh0aGlzLndpdGhkcmF3TW9uZXkpIC0gc3VtTW9uZXkpLnRvRml4ZWQoMikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoZXZlbnQuaW5wdXRUeXBlICE9ICdkZWxldGVDb250ZW50QmFja3dhcmQnKXsgLy/lkKbliKDpmaTmjInpkq4KICAgICAgICAgICAgICAgICAgICBpZihzdW1Nb25leSA+IHBhcnNlRmxvYXQodGhpcy53aXRoZHJhd01vbmV5KSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFua1RhYmxlW2luZGV4XS5tb25leSA9IHRoaXMua2V5dXBOdW07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlmZmVyZW5jZSA8IDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWZmZXJlbmNlID0gdGhpcy5wcmVfZGlmZmVyZW5jZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2V5dXBOdW0gPSBwYXJzZUZsb2F0KHRoaXMuYmFua1RhYmxlW2luZGV4XS5tb25leSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlX2RpZmZlcmVuY2UgPSB0aGlzLmRpZmZlcmVuY2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZXsgLy/mmK/liKDpmaTmjInpkq4KICAgICAgICAgICAgICAgICAgICB0aGlzLmtleXVwTnVtID0gdGhpcy5iYW5rVGFibGVbaW5kZXhdLm1vbmV5ID09ICIiID8gMCA6IHBhcnNlRmxvYXQodGhpcy5iYW5rVGFibGVbaW5kZXhdLm1vbmV5KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByZV9kaWZmZXJlbmNlID0gdGhpcy5kaWZmZXJlbmNlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlQmFua0NhcmREYXRhID0gSlNPTi5zdHJpbmdpZnkodGhpcy5iYW5rVGFibGUpCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2VuZXJhdGVCYW5rQ2FyZERhdGEnLGdlbmVyYXRlQmFua0NhcmREYXRhKQogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDmt7vliqDpk7booYzljaEt5by556qXCiAgICAgICAgICAgIGFkZEJhbmtDbGljayAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuQmFua0NhcmRMaXN0RGF0YSgpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIEJhbmtDYXJkTGlzdERhdGEoKXsKICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgICAgICBCYW5rQ2FyZExpc3RBcGkoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYmFua0NhcmRMaXN0ID0gcmVzLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgX3RoaXMuYmFua0NhcmRMaXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGJhbmtBcnIubGVuZ3RoOyBqKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMuYmFua0NhcmRMaXN0W2ldLmJhbmtfbmFtZSA9PSBiYW5rQXJyW2pdLmxhYmVsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5iYW5rQ2FyZExpc3RbaV1bJ2ltZyddID0gYmFua0FycltqXS5pbWc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g6ZO26KGM5Y2hdGFiCiAgICAgICAgICAgIGJhbmtUYWJDbGljayhpdGVtLGluZGV4KSB7CiAgICAgICAgICAgICAgICB0aGlzLmJhbmtUYWJOdW0gPSBpbmRleDsKICAgICAgICAgICAgICAgIHRoaXMuYmFua0Zvcm0gPSBpdGVtOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5iYW5rRm9ybSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g5Yig6Zmk6ZO26KGM5Y2hCiAgICAgICAgICAgIGRlbGV0ZUNsaWNrIChpZCkgewogICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk6K+l6ZO26KGM5Y2hPycsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZnVsbHNjcmVlbkxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIERlbEJhbmtDYXJkQXBpKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZnVsbHNjcmVlbkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQmFua0NsaWNrKCkKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIOa3u+WKoOmTtuihjOWNoS3lvLnnqpct5Y+W5raICiAgICAgICAgICAgIGFkZEJhbmtDYW5jZWwgKCkgewogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmJhbmtGb3JtID0gewogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6ICIiLAogICAgICAgICAgICAgICAgICAgIGJhbmtfbmFtZTogIiIsCiAgICAgICAgICAgICAgICAgICAgY2FyZF9udW1iZXI6ICIiLAogICAgICAgICAgICAgICAgICAgIGNhcmRfYWRkcmVzczogewogICAgICAgICAgICAgICAgICAgICAgICBwcm92aW5jZTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogIiIsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBiYW5rSWQ6ICIiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5iYW5rVGFiTnVtID0gLTEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g5re75Yqg6ZO26KGM5Y2hLeW8ueeqly3noa7orqQKICAgICAgICAgICAgYWRkQmFua0NvbmZpcm0gKCkgewogICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgICAgIGlmKHRoaXMuYmFua0Zvcm0uY2FyZF9udW1iZXIgPT0gJycpewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6ZO26KGM5Y2h5Y2h5Y+35bqU5Li6MTMtMTnkvY3mlbDlrZciLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5iYW5rRm9ybS5hY2NvdW50ID09ICIiKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+Whq+WGmeaMgeWNoeS6uuWnk+WQjSIsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmJhbmtGb3JtLmJhbmtfbmFtZSA9PSAiIil7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nlvIDmiLfpk7booYwiLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5iYW5rRm9ybS5jYXJkX2FkZHJlc3MucHJvdmluY2UgPT0gJycgfHwgdGhpcy5iYW5rRm9ybS5jYXJkX2FkZHJlc3MuY2l0eSA9PSAnJyB8fCB0aGlzLmJhbmtGb3JtLmNhcmRfYWRkcmVzcy5kaXN0cmljdCA9PSAnJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nlvIDmiLfooYzlnLDlnYAiLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfWVsc2UgaWYgKHRoaXMuYmFua0Zvcm0uYWNjb3VudC5sZW5ndGggPCAyKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeato+ehrueahOWnk+WQjSIsCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAvLyDmt7vliqDpk7booYzljaEKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmJhbmtUYWJOdW0gPT0gLTEpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHRoaXMuYmFua0Zvcm0uYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtfbmFtZTogdGhpcy5iYW5rRm9ybS5iYW5rX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkX251bWJlcjogdGhpcy5iYW5rRm9ybS5jYXJkX251bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpbmNlOiB0aGlzLmJhbmtGb3JtLmNhcmRfYWRkcmVzcy5wcm92aW5jZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdHk6IHRoaXMuYmFua0Zvcm0uY2FyZF9hZGRyZXNzLmNpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogdGhpcy5iYW5rRm9ybS5jYXJkX2FkZHJlc3MuZGlzdHJpY3QsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIEFkZEJhbmtDYXJkQXBpKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZ1bGxzY3JlZW5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IGJhbmtBcnIubGVuZ3RoOyBqKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKF90aGlzLmJhbmtGb3JtLmJhbmtfbmFtZSA9PSBiYW5rQXJyW2pdLmxhYmVsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVsnYmFua0ltZyddID0gYmFua0FycltqXS5pbWcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnu5nooajmoLzlr7nlupTnmoTooYzotYvlgLwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5L+u5pS5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihfdGhpcy5pICE9IC0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhWydpJ10gPSBfdGhpcy5pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbJ21vbmV5J10gPSBfdGhpcy5iYW5rVGFibGVbX3RoaXMuaV0ubW9uZXk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYmFua1RhYmxlW190aGlzLmldID0gZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNleyAvL+a3u+WKoAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbJ2knXSA9IF90aGlzLmJhbmtUYWJsZS5sZW5ndGggKyAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbJ21vbmV5J10gPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhWydiYW5rSWQnXSA9IHJlcy5kYXRhLm1lc3NhZ2UuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYmFua1RhYmxlLnB1c2goZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacieS/ruaUueihqOagvOWvueW6lOeahOihqOWNleWwseabtOaWsGxvY2FsU3RvcmFnZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhbmtEYXRhID0gSlNPTi5zdHJpbmdpZnkoX3RoaXMuYmFua1RhYmxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW5lcmF0ZUJhbmtDYXJkRGF0YScsIGJhbmtEYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6YeN572uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5iYW5rRm9ybSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rX25hbWU6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfbnVtYmVyOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkX2FkZHJlc3M6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmluY2U6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXR5OiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5iYW5rVGFiTnVtID0gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pID0gLTEKICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZ1bGxzY3JlZW5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsgLy/pgInkuK3pk7booYzljaEKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IHRoaXMuYmFua0Zvcm0uYWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtfbmFtZTogdGhpcy5iYW5rRm9ybS5iYW5rX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5rSW1nOiB0aGlzLmJhbmtGb3JtLmltZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfbnVtYmVyOiB0aGlzLmJhbmtGb3JtLmNhcmRfbnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmluY2U6IHRoaXMuYmFua0Zvcm0uY2FyZF9hZGRyZXNzLnByb3ZpbmNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogdGhpcy5iYW5rRm9ybS5jYXJkX2FkZHJlc3MuY2l0eSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RyaWN0OiB0aGlzLmJhbmtGb3JtLmNhcmRfYWRkcmVzcy5kaXN0cmljdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtJZDogdGhpcy5iYW5rRm9ybS5pZAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS/ruaUuQogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmkgIT0gLTEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pID0gdGhpcy5pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tb25leSA9IHRoaXMuYmFua1RhYmxlW3RoaXMuaV0ubW9uZXk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbmtUYWJsZVt0aGlzLmldID0gZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7IC8v5re75YqgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmkgPSB0aGlzLmJhbmtUYWJsZS5sZW5ndGggKyAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tb25leSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYW5rVGFibGUucHVzaChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacieS/ruaUueihqOagvOWvueW6lOeahOihqOWNleWwseabtOaWsGxvY2FsU3RvcmFnZQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFua0RhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmJhbmtUYWJsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW5lcmF0ZUJhbmtDYXJkRGF0YScsIGJhbmtEYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAvLyDph43nva4KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYmFua0Zvcm0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtfbmFtZTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkX251bWJlcjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkX2FkZHJlc3M6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aW5jZTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtJZDogIiIKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYmFua1RhYk51bSA9IC0xOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pID0gLTEKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIOS/ruaUuQogICAgICAgICAgICBtb2RpZnlDbGljayAoaXRlbSxpbmRleCkgewogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuaSA9IGluZGV4OwogICAgICAgICAgICAgICAgdGhpcy5CYW5rQ2FyZExpc3REYXRhKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIOWIoOmZpAogICAgICAgICAgICBkZWxDbGljayAoaW5kZXgpIHsKICAgICAgICAgICAgICAgIHRoaXMuYmFua1RhYmxlLnNwbGljZShpbmRleCwxKTsKICAgICAgICAgICAgICAgIHZhciBnZW5lcmF0ZUJhbmtDYXJkRGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuYmFua1RhYmxlKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW5lcmF0ZUJhbmtDYXJkRGF0YScsZ2VuZXJhdGVCYW5rQ2FyZERhdGEpOwoKICAgICAgICAgICAgICAgIGlmKHRoaXMuYmFua1RhYmxlLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgICAgIHZhciBudW0gPSAwOwogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmJhbmtUYWJsZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBudW0gKz0gdGhpcy5iYW5rVGFibGVbaV0ubW9uZXkgPT0gJycgPyAwIDogcGFyc2VGbG9hdCh0aGlzLmJhbmtUYWJsZVtpXS5tb25leSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWZmZXJlbmNlID0gKHRoaXMud2l0aGRyYXdNb25leSAtIG51bSkudG9GaXhlZCgyKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlmZmVyZW5jZSA9IHRoaXMud2l0aGRyYXdNb25leQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDmj5DkuqQKICAgICAgICAgICAgc3VibWl0ICgpIHsKICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgICAgICB2YXIgaXNfcGVyZmVjdCA9IGZhbHNlOwogICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuYmFua1RhYmxlLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmJhbmtUYWJsZVtpXS5hY2NvdW50ID09ICIiKXsKICAgICAgICAgICAgICAgICAgICAgICAgaXNfcGVyZmVjdCA9IHRydWUKICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmJhbmtUYWJsZVtpXS5tb25leSA9PSAnJyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzX3BlcmZlY3QgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGlzX3BlcmZlY3QgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYoaXNfcGVyZmVjdCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7flrozlloTpk7booYzljaHkv6Hmga/miJbmj5DmrL7ph5Hpop0nLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMucGFzc3dvcmQgPT0gJycpewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5pSv5LuY5a+G56CBJywKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvZGVWaXNpYmxlID0gdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDlj5HpgIHpqozor4HnoIEKICAgICAgICAgICAgc2VuZENvZGVDbGljayAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICAgICAgaWYodGhpcy5jb2RlVGV4dCA9PSAn6I635Y+W6aqM6K+B56CBJyB8fCB0aGlzLmNvZGVUZXh0ID09ICfph43mlrDojrflj5YnKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvZGVUZXh0ID0gIuWPkemAgeS4rSI7CiAgICAgICAgICAgICAgICAgICAgU2VuZFNtc0FwaSgpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMua2V5ID0gcmVzLmRhdGEua2V5OwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udCA9IDkwOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb2RlVGV4dCA9IGNvbnQgKyAicyI7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvZGVTZXQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udCAtLTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvZGVUZXh0ID0gY29udCArICJzIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbnQgPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5jb2RlU2V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb2RlVGV4dCA9ICfph43mlrDojrflj5YnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMCkKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb2RlVGV4dCA9ICLojrflj5bpqozor4HnoIEiOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDlj5Hotbfmj5DmrL4KICAgICAgICAgICAgd2l0aERyYXdDbGljayAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgY29kZTogdGhpcy5jb2RlLAogICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5rZXksCiAgICAgICAgICAgICAgICAgICAgYmFuazogSlNPTi5zdHJpbmdpZnkodGhpcy5iYW5rVGFibGUpLAogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmZ1bGxzY3JlZW5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHdpdGhEcmF3QXBpKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5mdWxsc2NyZWVuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2RyYXdpbmcnLAogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZU5hbWU6ICJzZWNvbmQiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnZW5lcmF0ZUJhbmtDYXJkRGF0YScpCiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIF90aGlzLmZ1bGxzY3JlZW5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyLm1lc3NhZ2UpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDlhbPpl63pqozor4HnoIHlvLnnqpfml7blgJnph43nva4KICAgICAgICAgICAgY29kZUNsb3NlKCkgewogICAgICAgICAgICAgICAgdGhpcy5jb2RlVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvZGVTZXQpOwogICAgICAgICAgICAgICAgdGhpcy5jb2RlVGV4dCA9ICfojrflj5bpqozor4HnoIEnOwogICAgICAgICAgICAgICAgdGhpcy5rZXkgPSAiIjsKICAgICAgICAgICAgICAgIHRoaXMuY29kZSA9ICIiOwogICAgICAgICAgICAgICAgdGhpcy5tZXNDb2RlID0gIiIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy/nnIHluILogZTliqgKCSAgICAJdXBkYXRlQ2l0eSAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmJhbmtGb3JtLmNhcmRfYWRkcmVzcy5jaXR5ID0gIiI7CiAgICAgICAgICAgICAgICB0aGlzLmJhbmtGb3JtLmNhcmRfYWRkcmVzcy5kaXN0cmljdCA9ICIiOwoJCQkJZm9yICh2YXIgaSBpbiB0aGlzLmFycikgewoJCQkJCXZhciBvYmogPSB0aGlzLmFycltpXTsKCQkJCQlpZiAob2JqLm5hbWUgPT0gdGhpcy5iYW5rRm9ybS5jYXJkX2FkZHJlc3MucHJvdmluY2UpIHsKCQkJCQkJdGhpcy5jaXR5QXJyID0gb2JqLnN1YjsKCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfQogICAgICAgICAgICB9LAogICAgICAgICAgICB1cGRhdGVEaXN0cmljdCAoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmJhbmtGb3JtLmNhcmRfYWRkcmVzcy5kaXN0cmljdCA9ICIiOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLmNpdHlBcnIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gdGhpcy5jaXR5QXJyW2ldOwogICAgICAgICAgICAgICAgICAgIGlmIChvYmoubmFtZSA9PSB0aGlzLmJhbmtGb3JtLmNhcmRfYWRkcmVzcy5jaXR5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzdHJpY3RBcnIgPSBvYmouc3ViOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIOi/lOWbngogICAgICAgICAgICBjb2RlQmFjaygpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnJlbW92ZSgnd2l0aGRyYXdNb25leScpCiAgICAgICAgICAgIH0KICAgICAgICB9LAoJCWJlZm9yZU1vdW50OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2l0eSgpOwoJCX0sCgkJd2F0Y2g6IHsKCQkJImJhbmtGb3JtLmNhcmRfYWRkcmVzcy5wcm92aW5jZSIgKCkgewogICAgICAgICAgICAgICAgaWYodGhpcy5iYW5rVGFiTnVtID09ICctMScpewogICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2l0eSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGlzdHJpY3QoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAiYmFua0Zvcm0uY2FyZF9hZGRyZXNzLmNpdHkiICgpIHsKICAgICAgICAgICAgICAgIGlmKHRoaXMuYmFua1RhYk51bSA9PSAnLTEnKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURpc3RyaWN0KCkgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCQl9LAogICAgICAgIG1vdW50ZWQoKSB7CiAgICAgICAgICAgIHRoaXMuYXJyID0gYXJyQWxsOwogICAgICAgICAgICB2YXIgZ2VuZXJhdGVCYW5rQ2FyZERhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2VuZXJhdGVCYW5rQ2FyZERhdGEnKTsKICAgICAgICAgICAgdGhpcy5iYW5rVGFibGUgPSBKU09OLnBhcnNlKGdlbmVyYXRlQmFua0NhcmREYXRhKTsKICAgICAgICAgICAgdGhpcy53aXRoZHJhd01vbmV5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3dpdGhkcmF3TW9uZXknKTsKCiAgICAgICAgICAgIC8vIOWIt+aWsOWQjuW3ruminT3mj5DmrL7mgLvku7ct6KGo5qC86YeR6aKdCiAgICAgICAgICAgIGlmKHRoaXMuYmFua1RhYmxlLmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgdmFyIG51bSA9IDA7CiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5iYW5rVGFibGUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBudW0gKz0gdGhpcy5iYW5rVGFibGVbaV0ubW9uZXkgPT0gJycgPyAwIDogcGFyc2VGbG9hdCh0aGlzLmJhbmtUYWJsZVtpXS5tb25leSkKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpZmZlcmVuY2UgPSAodGhpcy53aXRoZHJhd01vbmV5IC0gbnVtKS50b0ZpeGVkKDIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgdGhpcy5kaWZmZXJlbmNlID0gdGhpcy53aXRoZHJhd01vbmV5CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOiOt+WPluaJi+acuuWPtwogICAgICAgICAgICB0aGlzLm1vYmlsZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtb2JpbGUnKQogICAgICAgIH0sCiAgICAgICAgYmVmb3JlRGVzdHJveSgpIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvZGVTZXQpOwogICAgICAgIH0sCiAgICB9Cg=="},null]}