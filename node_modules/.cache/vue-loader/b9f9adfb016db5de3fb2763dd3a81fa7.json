{"remainingRequest":"P:\\bm_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!P:\\bm_admin\\src\\views\\finance\\drawing.vue?vue&type=script&lang=js&","dependencies":[{"path":"P:\\bm_admin\\src\\views\\finance\\drawing.vue","mtime":1611285722000},{"path":"P:\\bm_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"P:\\bm_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"P:\\bm_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"P:\\bm_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IERyYXdIaXNBcGkgfSBmcm9tICcuLi8uLi9odHRwL2FwaS5qcycKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICB2YXIgbXlEYXRlID0gbmV3IERhdGUoKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0YWJsZUxvYWRpbmc6IHRydWUsCiAgICAgICAgICAgIGFjdGl2ZU5hbWU6ICdmaXJzdCcsCiAgICAgICAgICAgIC8vIOWPr+aPkOS9meminQogICAgICAgICAgICBiYWxhbmNlOiAkY29va2llcy5nZXQoJ2JhbGFuY2UnKSwKICAgICAgICAgICAgYmxvY2s6ICRjb29raWVzLmdldCgnYmxvY2snKSwKICAgICAgICAgICAgLy8g5o+Q5qy+CiAgICAgICAgICAgIG1vbmV5OiAiIiwKICAgICAgICAgICAgLy8g5o+Q5qy+6K6w5b2V6KGo5qC8CiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgICAgICAgIFN0YXR1czogIiIsCiAgICAgICAgICAgIC8vIOWIhumhtQogICAgICAgICAgICBQYWdlOiAxLAogICAgICAgICAgICBQYWdlU2l6ZTogNSwKICAgICAgICAgICAgdG90YWw6IDAKICAgICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyDmj5DmrL7orrDlvZUKICAgICAgICBEcmF3SGlzRGF0YSAoKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgICAgICAgUGFnZTogdGhpcy5QYWdlLAogICAgICAgICAgICAgICAgUGFnZVNpemU6IHRoaXMuUGFnZVNpemUsCiAgICAgICAgICAgICAgICBTdGF0dXM6IHRoaXMuU3RhdHVzCiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gW107CiAgICAgICAgICAgIF90aGlzLnRhYmxlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIERyYXdIaXNBcGkoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgX3RoaXMudGFibGVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5tZXNzYWdlLkRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhLm1lc3NhZ2UuVG90YWwKICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDlhajpg6jph5Hpop0KICAgICAgICBhbGxNb25leUNsaWNrICgpIHsKICAgICAgICAgICAgdGhpcy5tb25leSA9IHRoaXMuYmFsYW5jZQogICAgICAgIH0sCiAgICAgICAgLy8g5p+l55yL5YWo6YOoCiAgICAgICAgc2VlQWxsQ2xpY2sgKCkgewogICAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSAnc2Vjb25kJzsKICAgICAgICAgICAgdGhpcy5QYWdlID0gMTsKICAgICAgICAgICAgdGhpcy5TdGF0dXMgPSAiIjsKICAgICAgICAgICAgdGhpcy5QYWdlU2l6ZSA9IDE1OwogICAgICAgICAgICB0aGlzLkRyYXdIaXNEYXRhKCkKICAgICAgICB9LAogICAgICAgIC8vIOmHkeminei+k+WFpeS6i+S7tgogICAgICAgIG1vbmV5S2V5dXAgKCkgewogICAgICAgICAgICBpZihwYXJzZUludCh0aGlzLm1vbmV5KSA+IDIwMDAwMCl7CiAgICAgICAgICAgICAgICB0aGlzLm1vbmV5ID0gMjAwMDAwOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WNleasoeacgOmrmOaPkOasvjIwMCwwMDAuMDDlhYMnLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYocGFyc2VJbnQodGhpcy5iYWxhbmNlKSA8IHBhcnNlSW50KHRoaXMubW9uZXkpKXsKICAgICAgICAgICAgICAgIHRoaXMubW9uZXkgPSB0aGlzLmJhbGFuY2UKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5LiL5LiA5q2lCiAgICAgICAgbmV4dENsaWNrICgpIHsKICAgICAgICAgICAgaWYocGFyc2VJbnQodGhpcy5tb25leSkgPCAxMDAgfHwgdGhpcy5tb25leSA9PSAnJyl7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pyA5L2O5o+Q5qy+6YeR6aKd5Li6MTAw77yM6K+36YeN5paw6L6T5YWlJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHZhciBtb25leSA9IHBhcnNlSW50KHRoaXMubW9uZXkpOwogICAgICAgICAgICAgICAgdmFyIHN1bSA9IChtb25leSAvIDEwMDAwKSAvIDMgKyAxOwogICAgICAgICAgICAgICAgdmFyIG51bSA9IHBhcnNlSW50KHN1bSk7CgogICAgICAgICAgICAgICAgdmFyIGJhbmtEYXRhID0gW107CgogICAgICAgICAgICAgICAgaWYobnVtID4gMSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IG1vbmV5IC8gbnVtOwogICAgICAgICAgICAgICAgICAgIHZhciBtaW4gPSBtYXggLyAxLjI7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFyeVJldCA9IFtdOwogICAgICAgICAgICAgICAgICAgIHZhciBpQWNjID0gMDsKICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgKG51bSAtIDEpOyBpKyspewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaVRtcCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXgtbWluKzEpK21pbik7CiAgICAgICAgICAgICAgICAgICAgICAgIGFyeVJldC5wdXNoKGlUbXApOwogICAgICAgICAgICAgICAgICAgICAgICBpQWNjICs9IGlUbXAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYXJ5UmV0LnB1c2gobW9uZXktaUFjYykKCiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGFyeVJldC5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtEYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZF9udW1iZXI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFua19uYW1lOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbmV5OiBhcnlSZXRbaV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiAiIgogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGJhbmtEYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBjYXJkX251bWJlcjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGJhbmtfbmFtZTogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbmV5OiBtb25leSwKICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogIiIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g6ZO26KGM5YiX6KGo6LWL5YC86YeR6aKd5bm25L+d5a2YbG9jYWxzdG9yYWdlCiAgICAgICAgICAgICAgICB2YXIgYmFua3MgPSBKU09OLnN0cmluZ2lmeShiYW5rRGF0YSkKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJnZW5lcmF0ZUJhbmtDYXJkRGF0YSIsYmFua3MpCiAgICAgICAgICAgICAgICAvLyDopoHmj5DmrL7nmoTph5Hpop3kv53lrZhsb2NhbHN0b3JhZ2UKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ3aXRoZHJhd01vbmV5IiwgdGhpcy5tb25leSkKCiAgICAgICAgICAgICAgICB0aGlzLiRhbGVydCgn5Y2V5byg5Y2h5pyA6auY5o+Q5qy+NDk5OTnvvIzns7vnu5/lsIboh6rliqjnlJ/miJAnICsgbnVtICsgJ+eslOiuouWNlScsICfmj5DnpLonLCB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBhY3Rpb24gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZihhY3Rpb24gIT0gJ2NhbmNlbCcpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kY29va2llcy5zZXQoJ3dpdGhkcmF3TW9uZXknLHRoaXMubW9uZXkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3dpdGhkcmF3L3NhZmV0eVZlcmlmaWNhdGlvbicpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8gdGFiCiAgICAgICAgaGFuZGxlQ2xpY2sodGFiLCBldmVudCkgewogICAgICAgICAgICB0aGlzLlBhZ2UgPSAxOwogICAgICAgICAgICB0aGlzLlN0YXR1cyA9ICIiOwogICAgICAgICAgICBpZih0YWIuaW5kZXggPT0gMCl7CiAgICAgICAgICAgICAgICB0aGlzLlBhZ2VTaXplID0gNQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuUGFnZVNpemUgPSAxNQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuRHJhd0hpc0RhdGEoKQogICAgICAgIH0sCiAgICAgICAgLy8g5YiG6aG1CiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgICAgICAgdGhpcy5QYWdlID0gdmFsOwogICAgICAgICAgICB0aGlzLkRyYXdIaXNEYXRhKCkKICAgICAgICB9LAogICAgICAgIC8vIOi/lOWbngogICAgICAgIGJhY2sgKCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3dpdGhkcmF3Jyk7CiAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMucmVtb3ZlKCdiYWxhbmNlJyk7CiAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMucmVtb3ZlKCdibG9jaycpCiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGlmKHRoaXMuJHJvdXRlci5oaXN0b3J5LmN1cnJlbnQucGFyYW1zLmFjdGl2ZU5hbWUpewogICAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWUgPSB0aGlzLiRyb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnBhcmFtcy5hY3RpdmVOYW1lOwogICAgICAgICAgICB0aGlzLlBhZ2VTaXplID0gMTUKICAgICAgICB9CgogICAgICAgIHRoaXMuRHJhd0hpc0RhdGEoKTsKICAgIH0sCn0K"},{"version":3,"sources":["drawing.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"drawing.vue","sourceRoot":"src/views/finance","sourcesContent":["<template>\r\n    <div class=\"drawing\">\r\n        <el-page-header @back=\"back\" content=\"提款\"></el-page-header>\r\n        <!-- <div class=\"drawing_explain\">\r\n            <i class=\"iconfont icon-bangzhu primary-color\"></i>\r\n            <el-link :underline=\"false\">提款说明</el-link>\r\n        </div> -->\r\n\r\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"提款至银行卡\" name=\"first\" class=\"input_money\">\r\n                <el-row>\r\n                    <el-col :span=\"4\">\r\n                        <span>可提余额</span>\r\n                        <h5 class=\"primary-color\">{{ balance }}</h5>\r\n                    </el-col>\r\n                    <el-col :span=\"4\">\r\n                        <span>不可用余额</span>\r\n                        <h5 class=\"primary-color\">{{ block }}</h5>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>输入金额</el-row>\r\n                <el-row>\r\n                    <el-input placeholder=\"请输入金额\" v-model=\"money\" @input=\"moneyKeyup\"></el-input>\r\n                    <!-- <span class=\"primary-color whole\" @click=\"allMoneyClick\">全部</span> -->\r\n                    <p>单次最高提款200,000.00元，今天最多还可提出 2,000,000.00 元</p>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-button round class=\"primary-button\" @click=\"nextClick\">下一步</el-button>\r\n                </el-row>\r\n\r\n                <el-row class=\"input_money_table\">\r\n                    <h3>最近5笔提款<span class=\"primary-color\" @click=\"seeAllClick\">查看全部</span></h3>\r\n\r\n                    <el-table\r\n                        :data=\"tableData\"\r\n                        style=\"width: 100%\"\r\n                        :show-header=\"false\"\r\n                        id=\"notice_table\"\r\n                        v-loading=\"tableLoading\">\r\n                        <el-table-column\r\n                            prop=\"created_at\"\r\n                            width=\"180\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                            prop=\"fundsn\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                            prop=\"account\"\r\n                            width=\"100\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                            prop=\"money\"\r\n                            width=\"100\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                            width=\"100\">\r\n                                <template slot-scope=\"scope\">\r\n                                    <span :class=\"{ 'green': scope.row.status == '成功', 'red': scope.row.status == '失败', 'grey': scope.row.status == '处理中' }\">\r\n                                        {{ scope.row.status }}\r\n                                    </span>\r\n                                </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-row>\r\n            </el-tab-pane>\r\n\r\n            <el-tab-pane label=\"提款至虚拟币\" name=\"usdt\" style=\"text-align: center;margin-top: 200px;\">暂未开放</el-tab-pane>\r\n\r\n            <el-tab-pane label=\"提款记录\" name=\"second\">\r\n                <el-row :gutter=\"10\">\r\n                    <el-form>\r\n                        <el-form-item>\r\n                            <el-col :span=\"5\">\r\n                                <el-select placeholder=\"全部\" v-model=\"Status\">\r\n                                    <el-option value=\"1\" label=\"全部\"></el-option>\r\n                                    <el-option value=\"2\" label=\"成功\"></el-option>\r\n                                    <el-option value=\"3\" label=\"失败\"></el-option>\r\n                                    <el-option value=\"4\" label=\"处理中\"></el-option>\r\n                                </el-select>\r\n                            </el-col>\r\n                            <el-col :span=\"6\" class=\"form_button\">\r\n                                <el-button class=\"primary-button\" round @click=\"DrawHisData\">查询</el-button>\r\n                                <el-button plain round @click=\"Status = ''\">重置</el-button>\r\n                            </el-col>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </el-row>\r\n\r\n                <el-row>\r\n                    <el-table\r\n                        :data=\"tableData\"\r\n                        style=\"width: 100%\"\r\n                        v-loading=\"tableLoading\">\r\n                            <el-table-column\r\n                                label=\"提款时间\"\r\n                                width=\"180\"\r\n                                prop=\"created_at\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                label=\"订单号\"\r\n                                prop=\"fundsn\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                label=\"提款账号\"\r\n                                width=\"100\"\r\n                                prop=\"account\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                label=\"提款金额\"\r\n                                width=\"100\"\r\n                                prop=\"money\">\r\n                            </el-table-column>\r\n                            <el-table-column\r\n                                label=\"状态\"\r\n                                width=\"100\">\r\n                                    <template slot-scope=\"scope\">\r\n                                        <span :class=\"{ 'green': scope.row.status == '成功', 'red': scope.row.status == '失败', 'grey': scope.row.status == '处理中' }\">\r\n                                            {{ scope.row.status }}\r\n                                        </span>\r\n                                    </template>\r\n                            </el-table-column>\r\n                    </el-table>\r\n\r\n                    <!-- 分页 -->\r\n                    <el-pagination\r\n                        background\r\n                        layout=\"prev, pager, next\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page.sync=\"Page\" \r\n                        :total=\"total\"\r\n                        :page-size=\"PageSize\"\r\n                        :hide-on-single-page=\"true\">\r\n                    </el-pagination>\r\n                </el-row>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { DrawHisApi } from '../../http/api.js'\r\n    export default {\r\n        data() {\r\n            var myDate = new Date();\r\n            return {\r\n                tableLoading: true,\r\n                activeName: 'first',\r\n                // 可提余额\r\n                balance: $cookies.get('balance'),\r\n                block: $cookies.get('block'),\r\n                // 提款\r\n                money: \"\",\r\n                // 提款记录表格\r\n                tableData: [],\r\n                Status: \"\",\r\n                // 分页\r\n                Page: 1,\r\n                PageSize: 5,\r\n                total: 0\r\n            };\r\n        },\r\n        methods: {\r\n            // 提款记录\r\n            DrawHisData () {\r\n                var _this = this;\r\n                var data = {\r\n                    Page: this.Page,\r\n                    PageSize: this.PageSize,\r\n                    Status: this.Status\r\n                }\r\n                _this.tableData = [];\r\n                _this.tableLoading = true;\r\n                DrawHisApi(data).then(res => {\r\n                    _this.tableLoading = false;\r\n                    _this.tableData = res.data.message.Data;\r\n                    _this.total = res.data.message.Total\r\n                }).catch(err => {\r\n                    _this.tableLoading = false\r\n                })\r\n            },\r\n            // 全部金额\r\n            allMoneyClick () {\r\n                this.money = this.balance\r\n            },\r\n            // 查看全部\r\n            seeAllClick () {\r\n                this.activeName = 'second';\r\n                this.Page = 1;\r\n                this.Status = \"\";\r\n                this.PageSize = 15;\r\n                this.DrawHisData()\r\n            },\r\n            // 金额输入事件\r\n            moneyKeyup () {\r\n                if(parseInt(this.money) > 200000){\r\n                    this.money = 200000;\r\n                    this.$message({\r\n                        message: '单次最高提款200,000.00元',\r\n                        type: 'warning'\r\n                    })\r\n                }\r\n\r\n                if(parseInt(this.balance) < parseInt(this.money)){\r\n                    this.money = this.balance\r\n                }\r\n            },\r\n            // 下一步\r\n            nextClick () {\r\n                if(parseInt(this.money) < 100 || this.money == ''){\r\n                    this.$message({\r\n                        message: '最低提款金额为100，请重新输入',\r\n                        type: 'warning'\r\n                    });\r\n                }else{\r\n                    var money = parseInt(this.money);\r\n                    var sum = (money / 10000) / 3 + 1;\r\n                    var num = parseInt(sum);\r\n\r\n                    var bankData = [];\r\n\r\n                    if(num > 1){\r\n                        var max = money / num;\r\n                        var min = max / 1.2;\r\n                        var aryRet = [];\r\n                        var iAcc = 0;\r\n                        for(var i = 0; i < (num - 1); i++){\r\n                            var iTmp = Math.floor(Math.random() * (max-min+1)+min);\r\n                            aryRet.push(iTmp);\r\n                            iAcc += iTmp\r\n                        }\r\n                        aryRet.push(money-iAcc)\r\n\r\n                        for(var i = 0; i < aryRet.length; i++){\r\n                            bankData.push({\r\n                                card_number: \"\",\r\n                                bank_name: \"\",\r\n                                money: aryRet[i],\r\n                                account: \"\"\r\n                            })\r\n                        }\r\n                    }else{\r\n                        bankData.push({\r\n                            card_number: \"\",\r\n                            bank_name: \"\",\r\n                            money: money,\r\n                            account: \"\"\r\n                        })\r\n                    }\r\n                    // 银行列表赋值金额并保存localstorage\r\n                    var banks = JSON.stringify(bankData)\r\n                    localStorage.setItem(\"generateBankCardData\",banks)\r\n                    // 要提款的金额保存localstorage\r\n                    localStorage.setItem(\"withdrawMoney\", this.money)\r\n\r\n                    this.$alert('单张卡最高提款49999，系统将自动生成' + num + '笔订单', '提示', {\r\n                        confirmButtonText: '确定',\r\n                        callback: action => {\r\n                            if(action != 'cancel'){\r\n                                this.$cookies.set('withdrawMoney',this.money)\r\n                                this.$router.push('/withdraw/safetyVerification')\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            // tab\r\n            handleClick(tab, event) {\r\n                this.Page = 1;\r\n                this.Status = \"\";\r\n                if(tab.index == 0){\r\n                    this.PageSize = 5\r\n                }else{\r\n                    this.PageSize = 15\r\n                }\r\n                this.DrawHisData()\r\n            },\r\n            // 分页\r\n            handleCurrentChange(val) {\r\n                this.Page = val;\r\n                this.DrawHisData()\r\n            },\r\n            // 返回\r\n            back () {\r\n                this.$router.push('/withdraw');\r\n                this.$cookies.remove('balance');\r\n                this.$cookies.remove('block')\r\n            },\r\n        },\r\n        mounted() {\r\n            if(this.$router.history.current.params.activeName){\r\n                this.activeName = this.$router.history.current.params.activeName;\r\n                this.PageSize = 15\r\n            }\r\n\r\n            this.DrawHisData();\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    @import url(../../assets/css/finance.css);\r\n</style>"]}]}